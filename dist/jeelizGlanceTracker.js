 /**
 * Jeeliz Glance Tracker - https://github.com/jeeliz/jeelizGlanceTracker
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var GLANCETRACKERAPI=(function(){function ea(b,c){var m=new XMLHttpRequest;m.open("GET",b,!0);m.withCredentials=!1;m.onreadystatechange=function(){4!==m.readyState||200!==m.status&&0!==m.status||c(m.responseText)};m.send()}function fa(b,c){if(0===c||"object"!==typeof b)return b;b=Object.assign({},b);c=void 0===c||-1===c?-1:c-1;for(var m in b)b[m]=fa(b[m],c);return b}
function la(b){switch(b){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function sa(b,c){var m=c%8;return b[(c-m)/8]>>7-m&1}
function va(b){var c=JSON.parse(b);b=c.ne;var m=c.nf,h=c.n;var r="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var l=r.length;c=new Uint8Array(l);for(var v=0;v<l;++v)c[v]=r.charCodeAt(v);r=new Float32Array(h);l=new Float32Array(m);v=b+m+1;for(var q=0;q<h;++q){for(var f=v*q,u=0===sa(c,f)?1:-1,d=f+1,g=1,n=0,e=d+b-1;e>=d;--e)n+=g*sa(c,e),g*=2;d=n;f=f+1+b;g=l.length;n=0;for(e=f;e<f+g;++e)l[n]=sa(c,e),++n;for(g=f=0;g<m;++g)f+=l[g]*Math.pow(2,-g-1);r[q]=0===f&&0===
d?0:u*(1+f)*Math.pow(2,1+d-Math.pow(2,b-1))}return r}
var B=function(){function b(w,t,A){t=w.createShader(t);w.shaderSource(t,A);w.compileShader(t);return w.getShaderParameter(t,w.COMPILE_STATUS)?t:!1}function c(w,t,A){t=b(w,w.VERTEX_SHADER,t);A=b(w,w.FRAGMENT_SHADER,A);w===a&&v.push(t,A);var y=w.createProgram();w.attachShader(y,t);w.attachShader(y,A);w.linkProgram(y);return y}function m(w,t){void 0===t.da&&(t.da="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===t.ea&&(t.ea=
["a0"]);void 0===t.Z&&(t.Z=[2]);if(void 0===t.precision||"highp"===t.precision)t.precision=g;t.id=u++;void 0!==t.Ub&&(t.Ub.forEach(function(y,x){t.b=t.b.replace(y,t.ra[x])}),t.Ub.splice(0));t.bb=0;t.Z.forEach(function(y){t.bb+=4*y});t.T=c(w,t.da,"precision "+t.precision+" float;\n"+t.b);t.i={};t.c.forEach(function(y){t.i[y]=w.getUniformLocation(t.T,y)});t.attributes={};t.$=[];t.ea.forEach(function(y){var x=w.getAttribLocation(t.T,y);t.attributes[y]=x;t.$.push(x)});if(t.f){w.useProgram(t.T);f=t;q=
t.id;for(var A in t.f)w.uniform1i(t.i[A],t.f[A])}t.Na=!0}function h(w){Aa.nd(R);q!==w.id&&(R.C(),q=w.id,f=w,a.useProgram(w.T),w.$.forEach(function(t){0!==t&&a.enableVertexAttribArray(t)}))}function r(w,t,A){m(w,t,A);w.useProgram(t.T);w.enableVertexAttribArray(0);q=-1;return f=t}function l(){return{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],f:{u1:0}}}var v=[],q=-1,f=null,u=0,d=!1,g="highp",n=["u1"],e=["u0"],C={u1:0},E={u0:0},F={u1:0,u2:1},I={u3:0},
D={s0:l(),s1:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:n,f:C,precision:"lowp"},s2:{b:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],f:F},s3:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:n,f:C},s4:{b:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
c:["u1","u2"],f:F},s5:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",c:n,f:C},s6:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:n,f:C},s7:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],f:E},s8:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
c:["u0","u4"],f:E},s9:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",c:n,f:C},s10:{b:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",c:["u1","u5","u6"],f:{u1:0,u5:1}},s11:{b:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",
c:["u1","u7"],f:C},s12:{b:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
c:["u1","u8"],f:C},s13:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:e,f:E},s14:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:e,f:E},s15:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:e,f:E},s16:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",
c:e,f:E},s17:{b:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u6","u9"],f:{u0:0,u6:1,u9:2}},s18:{b:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",c:e,f:E},s19:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",
c:e,f:E},s20:{b:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u10","u11"],f:{u0:0,u10:1}},s21:{b:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u12"],f:C},s22:{b:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",c:["u13","u14","u15"],f:{u14:0,u13:1,u15:2}},s23:{b:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",c:["u14","u13","u16"],f:{u14:0,u13:1}},s24:{b:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u13 u14 u16 u20 u17 u18 u19".split(" "),f:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6}},s25:{b:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",c:"u13 u14 u16 u22 u23 u24 u21".split(" "),f:{u14:0,
u13:1,u21:2}},s26:{b:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",c:["u13","u14"],f:{u14:0,u13:1}},s27:{b:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",c:["u1","u21","u25"],f:{u1:0,u21:1}},s28:{b:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:n,f:C,precision:"lowp"},s29:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u26"],f:C,precision:"lowp"},s30:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u26"],f:C,precision:"lowp"},s31:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u27"],f:F},s32:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u27"],f:F},s33:{b:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u7"],f:I},s34:{b:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u7"],f:I},s35:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
c:["u1"],f:C,precision:"lowp"},s36:{b:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",c:["u7","u1"],f:C,precision:"lowp"},s37:{b:"uniform sampler2D u1,u28,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u28,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",
c:["u1","u28","u29"],f:{u1:0,u28:1,u29:2}}},H={s38:{b:"uniform float u16,u30;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u16","u13","u14","u21","u30"],ra:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{b:"uniform float u16,u30,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u16 u24 u13 u14 u21 u30".split(" "),ra:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},G=null,T=null,R={la:function(){return d},l:function(){if(!d){G=fa(D,2);T=fa(H,2);g="highp";for(var w in G)m(a,G[w],w);B.set("s0");a.enableVertexAttribArray(0);d=!0}},cc:function(w){w.forEach(function(t){R.gb(t)})},gb:function(w){G[w.id]=w;m(a,w,w.id)},Eb:function(w,t,A){t||(t=w);G[t]=Object.create(T[w]);G[t].Lc=!0;T[w].ra&&T[w].ra.forEach(function(y,x){G[t].b=G[t].b.replace(new RegExp(y,"g"),A[x])});m(a,G[t],
t)},set:function(w){h(G[w])},sa:function(w){return r(w,l(),"s40")},Ua:function(w){return r(w,{b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s41")},vc:function(w){return"undefined"===typeof G[w]?!1:G[w].Na},C:function(){-1!==q&&(q=-1,f.$.forEach(function(w){0!==w&&a.disableVertexAttribArray(w)}))},Wa:function(){var w=0;f.$.forEach(function(t,A){A=f.Z[A];a.vertexAttribPointer(t,A,a.FLOAT,!1,f.bb,w);w+=4*A})},Md:function(){a.enableVertexAttribArray(0)},ta:function(){R.ua(a)},
ua:function(w){w.vertexAttribPointer(f.$[0],2,w.FLOAT,!1,8,0)},pe:function(w,t){a.uniform1i(f.i[w],t)},H:function(w,t){a.uniform1f(f.i[w],t)},ba:function(w,t,A){a.uniform2f(f.i[w],t,A)},qe:function(w,t){a.uniform2fv(f.i[w],t)},od:function(w,t){a.uniform3fv(f.i[w],t)},re:function(w,t,A,y){a.uniform3f(f.i[w],t,A,y)},se:function(w,t,A,y,x){a.uniform4f(f.i[w],t,A,y,x)},Va:function(w,t){a.uniform4fv(f.i[w],t)},te:function(w,t){a.uniformMatrix2fv(f.i[w],!1,t)},ue:function(w,t){a.uniformMatrix3fv(f.i[w],
!1,t)},ve:function(w,t){a.uniformMatrix4fv(f.i[w],!1,t)},I:function(w,t){R.set(w);t.forEach(function(A){switch(A.type){case "4f":a.uniform4fv(f.i[A.name],A.value);break;case "3f":a.uniform3fv(f.i[A.name],A.value);break;case "2f":a.uniform2fv(f.i[A.name],A.value);break;case "1f":a.uniform1f(f.i[A.name],A.value);break;case "1i":a.uniform1i(f.i[A.name],A.value);break;case "mat2":a.uniformMatrix2fv(f.i[A.name],!1,A.value);break;case "mat3":a.uniformMatrix3fv(f.i[A.name],!1,A.value);break;case "mat4":a.uniformMatrix4fv(f.i[A.name],
!1,A.value)}})},Xd:function(){return"lowp"},h:function(){a.disableVertexAttribArray(0);R.C();for(var w in G){var t=G[w];t.Na&&(t.Na=!1,a.deleteProgram(t.T));t.Lc&&delete G[w]}v.forEach(function(A){a.deleteShader(A)});v.splice(0);u=0;d=!1;f=null;q=-1}};return R}(),a=null,Ca=function(){function b(g){console.log("ERROR in ContextFF: ",g);return!1}function c(g){function n(){Ba.h();C.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var e=document.createElement("canvas");e.setAttribute("width",1);e.setAttribute("height",1);var C=null;try{C=e.getContext("webgl2",g)}catch(E){return!1}if(!C)return!1;m(C);K.qb(C);g=K.Da(C);if(!g.M&&!g.N)return n(),!1;g=Ba.kb(C,g);n();return g?!0:!1}function m(g){g.clearColor(0,0,0,0);g.disable(g.DEPTH_TEST);g.disable(g.BLEND);g.disable(g.DITHER);g.disable(g.STENCIL_TEST);g.disable(g.CULL_FACE);g.GENERATE_MIPMAP_HINT&&g.hint(g.GENERATE_MIPMAP_HINT,g.FASTEST);g.disable(g.SAMPLE_ALPHA_TO_COVERAGE);
g.disable(g.SAMPLE_COVERAGE);g.depthFunc(g.LEQUAL);g.clearDepth(1)}var h=null,r=null,l=null,v=null,q=!0,f=null,u=null,d={u:function(){return h.width},D:function(){return h.height},Pd:function(){return h},Od:function(){return a},O:function(){return q},flush:function(){a.flush()},yc:function(){f||(f=new Uint8Array(h.width*h.height*4));a.readPixels(0,0,h.width,h.height,a.RGBA,a.UNSIGNED_BYTE,f);return f},Rd:function(){return h.toDataURL("image/jpeg")},Sd:function(){P.A();r||(r=document.createElement("canvas"),
l=r.getContext("2d"));r.width=h.width;r.height=h.height;for(var g=d.yc(),n=l.createImageData(r.width,r.height),e=r.width,C=r.height,E=n.data,F=0;F<C;++F)for(var I=C-F-1,D=0;D<e;++D){var H=4*(F*e+D),G=4*(I*e+D);E[H]=g[G];E[H+1]=g[G+1];E[H+2]=g[G+2];E[H+3]=g[G+3]}l.putImageData(n,0,0);return r.toDataURL("image/png")},Qd:function(g){!r&&g&&(r=document.createElement("canvas"),l=r.getContext("2d"));var n=g?r:document.createElement("canvas");n.width=h.width;n.height=h.height;(g?l:n.getContext("2d")).drawImage(h,
0,0);return n},l:function(g){g.ob&&!g.nb?h=document.getElementById(g.ob):g.nb&&(h=g.nb);h||(h=document.createElement("canvas"));h.width=g&&void 0!==g.width?g.width:512;h.height=g&&void 0!==g.height?g.height:512;"undefined"===typeof g&&(g={});void 0===g.premultipliedAlpha&&(g.premultipliedAlpha=!1);void 0===g.Ma&&(g.Ma=!0);void 0===g.antialias&&(g.antialias=!1);if(a)q=a instanceof WebGL2RenderingContext;else{q=!0;var n={antialias:g.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:g.premultipliedAlpha,
stencil:!1,depth:g.Ma};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(n.antialias=!1);var e=c(n);!e&&n.antialias&&(n.antialias=!1,e=c(n));e&&(a=h.getContext("webgl2",n));a?q=!0:((a=h.getContext("webgl",n))||(a=h.getContext("experimental-webgl",n)),q=!1)}if(!a)return b("WebGL1 and 2 are not enabled");(v=a.getExtension("WEBGL_lose_context"))&&g.Wc&&(u=g.Wc,h.addEventListener("webglcontextlost",u,!1));if(!K.l())return b("Not enough GL capabilities");m(a);B.l();S.l();
return Ba.kb(a,K.xc())?!0:b("Cannot filter float textures")},h:function(){a&&(K.h(),Ba.h());v&&u&&(h.removeEventListener("webglcontextlost",u,!1),v=u=null);a=f=l=r=h=null}};return d}(),Aa=function(){function b(){null===c&&("undefined"!==typeof B?c=B:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;b();return{nd:function(m){c!==m&&(c&&c.C(),c=m)},la:function(){return c.la()},ta:function(){return c.ta()},ua:function(m){return c.ua(m)},Wa:function(){return c.Wa()},C:function(){return c.C()},
set:function(m){return c.set(m)},sa:function(m){b();return c.sa(m)},Ua:function(m){b();return c.Ua(m)},h:function(){return c.h()}}}(),V=function(){function b(k){a.bindTexture(a.TEXTURE_2D,k)}function c(k){t[0]=k;k=A[0];var J=k>>16&32768,L=k>>12&2047,p=k>>23&255;return 103>p?J:142<p?J|31744|((255==p?0:1)&&k&8388607):113>p?(L|=2048,J|(L>>114-p)+(L>>113-p&1)):J=(J|p-112<<10|L>>1)+(L&1)}function m(k){var J=new Uint16Array(k.length);k.forEach(function(L,p){J[p]=c(L)});return J}function h(){if(null!==y.Ja)return y.Ja;
var k=l(m([1,1,1,1]));return null===k?!0:y.Ja=k}function r(){if(null!==y.Ka)return y.Ka;var k=l(new Uint8Array([255,255,255,255]));return null===k?!0:y.Ka=k}function l(k){if(!Aa.la()||!E)return null;var J=null;try{var L=a.getError();if("FUCKING_BIG_ERROR"===L)return!1;J=x.instance({isFloat:!1,v:!0,array:k,width:1});L=a.getError();if(L!==a.NO_ERROR)return!1}catch(p){return!1}P.A();a.viewport(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);Aa.set("s0");J.hb(0);S.g(!0,!0);k=new Uint8Array(4);
a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,k);k=.9<k[0];J.remove();P.L();return k}var v=0,q=null,f=0,u=null,d=null,g=null,n=null,e=null,C=null,E=!1,F=[],I={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,s:null,Db:null,Kc:!1,v:!1,S:null,na:4,Oa:0},D=!1,H=null,G=null,T=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],R=!1,w=!1,t=new Float32Array(1),A=new Int32Array(t.buffer),
y={Ja:null,Ka:null},x={l:function(){E||(e=[a.RGB,null,a.RGB,a.RGBA],C=[a.RGB,null,a.RGB,a.RGBA],q=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7],R="undefined"!==typeof JEContext,w="undefined"!==typeof K,R&&JEContext.je()&&q.push(a.TEXTURE8,a.TEXTURE9),u=[-1,-1,-1,-1,-1,-1,-1,-1],n=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT],E=!0)},Ec:function(){if(!d){for(var k=new Float32Array(16384),J=0;16384>J;++J)k[J]=2*Math.random()-1;d={random:x.instance({isFloat:!0,isPot:!0,
array:k,width:64}),$b:x.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}x.yd()},be:function(){return d.$b},yd:function(){n[1]=K.Ga(a)},hd:function(){C=e=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},le:function(k,J){B.set("s1");P.A();var L=k.u(),p=k.D();a.viewport(0,0,L,p);k.a(0);S.g(!1,!1);a.readPixels(0,0,L,p,a.RGBA,a.UNSIGNED_BYTE,J)},xb:function(k,J,L,p,Y,ha,ma){k.activeTexture(k.TEXTURE0);var ca=k.createTexture();k.bindTexture(k.TEXTURE_2D,ca);Y=Y instanceof Float32Array?Y:new Float32Array(Y);
0!==Math.log2(Y.length)%1&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,ha);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,L,p,0,k.RGBA,k.FLOAT,Y);k.bindTexture(k.TEXTURE_2D,null);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!1);ma&&(P.L(),B.set("s0"));k.viewport(0,0,L,p);k.framebufferTexture2D(k.FRAMEBUFFER,
k.COLOR_ATTACHMENT0,k.TEXTURE_2D,J,0);k.bindTexture(k.TEXTURE_2D,ca);ma?S.g(!0,!0):S.ia(k);k.deleteTexture(ca);E&&(u[0]=-1,g=null,v=0)},xa:function(k){k!==v&&(a.activeTexture(q[k]),v=k)},instance:function(k){function J(z){var M=a.getError();if("FUCKING_BIG_ERROR"===M)return!1;a.texImage2D(a.TEXTURE_2D,0,Z,X,aa,z);M=a.getError();M!==a.NO_ERROR&&X!==a.RGBA&&(X=a.RGBA,a.texImage2D(a.TEXTURE_2D,0,Z,X,aa,z));return!0}function L(){if(!Ga){b(da);ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,ia);p.isPot?(a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_S,p.isMirrorX?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,p.isMirrorY?a.MIRRORED_REPEAT:a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));p.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.Td().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Ad);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,p.isLinear?a.LINEAR:a.NEAREST);p.isLinear?
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,p.isMipmap&&!pa?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,p.isMipmap&&!pa?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);X=e[p.na-1];Z=C[p.na-1];aa=n[ha];if(K.O()){var z=a.RGBA32F;X===a.RGBA&&aa===a.FLOAT?p.isMipmap||p.isLinear?Z=Ba.zc(a):K.lb()?z&&(Z=z):Z=a.RGBA16F||a.RGBA:X===a.RGB&&aa===a.FLOAT&&z&&(Z=z,X=a.RGBA)}if(p.v&&!p.isFloat||p.isFloat&&p.isMipmap&&Ba.Pc())(z=a.RGBA16F)&&(Z=z),aa=K.Ga(a);p.Oa&&(wa=p.Oa);p.isSrgb&&
4===p.na&&(X=JEContext.$d());if(p.s)J(p.s);else if(p.url)J(oa);else if(ja){z=ja;try{"FUCKING_BIG_ERROR"!==a.getError()&&(a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,z),a.getError()!==a.NO_ERROR&&(a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,N,O,0,a.RGBA,a.UNSIGNED_BYTE,null)))}catch(kb){a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,null)}p.isKeepArray||(ja=null)}else z=a.getError(),"FUCKING_BIG_ERROR"!==z&&(a.texImage2D(a.TEXTURE_2D,0,Z,N,O,
0,X,aa,null),z=a.getError(),z!==a.NO_ERROR&&(X=a.RGBA,p.v&&aa!==a.FLOAT&&(aa=a.FLOAT,a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,null))));if(p.isMipmap)if(!pa&&U)U.Fa(),xa=!0;else if(pa){z=Math.log2(Math.min(N,O));ta=Array(1+z);ta[0]=da;for(var M=1;M<=z;++M){var ba=Math.pow(2,M),Q=N/ba;ba=O/ba;var qa=a.createTexture();b(qa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,Z,Q,ba,0,X,aa,null);b(null);
ta[M]=qa}xa=!0}b(null);u[v]=-1;ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);ya=!0;p.S&&U&&(p.S(U),p.S=null)}}var p=Object.assign({},I,k),Y=f++;null===p.isFlipY&&(p.isFlipY=p.url||p.array?!0:!1);p.data&&(p.array="string"===typeof p.data?va(p.data):p.isFloat?new Float32Array(p.data):new Uint8Array(p.data),p.isFlipY=!1);var ha=0,ma=p.s?!0:!1,ca=null,Da=null,Ha=!1,Ea=null;p.v=p.v||p.isFloat;p.v&&(ha=1);p.Kc||K.O()||!p.isFloat||!w||K.lb()||(p.isFloat=!1);p.isFloat&&(ha=2);p.isAnisotropicFiltering&&R&&!JEContext.ee()&&
(p.isAnisotropicFiltering=!1);var da=p.Db||a.createTexture(),oa=null,ja=!1,N=0,O=0,ya=!1,Ga=!1,za=!1,ka=null,na=null,Fa=null,ua=null,Z=null,X=null,aa=null,ia=p.isFlipY,Va=(k=p.v&&p.isMipmap)&&Ba.lc(),pa=k&&Va?!0:!1,ta=null,wa=-1,xa=!1,ra={Kb:!1,ib:null,yb:null};p.width&&(N=p.width,O=p.height?p.height:N);var U={get:function(){return da},u:function(){return N},D:function(){return O},ce:function(){return p.url},fe:function(){return p.isFloat},he:function(){return p.v},ie:function(){return p.isLinear},
Fa:function(){a.generateMipmap(a.TEXTURE_2D)},ic:function(z,M){pa?(z||(z=U.Bb()),x.xa(M),b(ta[z]),u[M]=-1):U.a(M)},Bb:function(){-1===wa&&(wa=Math.log(N)/Math.log(2));return wa},wc:function(z){if(pa){z||(z=U.Bb());B.set("s11");x.xa(0);for(var M=N,ba=O,Q=1;Q<=z;++Q)M/=2,ba/=2,B.ba("u7",.25/M,.25/ba),a.viewport(0,0,M,ba),b(ta[Q-1]),a.framebufferTexture2D(P.ka(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ta[Q],0),S.g(!1,1===Q);u[0]=-1}else U.Fa()},a:function(z){if(!ya)return!1;x.xa(z);if(u[z]===Y)return!1;b(da);
u[z]=Y;return!0},hb:function(z){a.activeTexture(q[z]);v=z;b(da);u[z]=Y},j:function(){g=U;a.framebufferTexture2D(P.ka(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,da,0)},G:function(){g=U;a.viewport(0,0,N,O);a.framebufferTexture2D(P.ka(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,da,0)},ab:x.ab,resize:function(z,M){N=z;O=M;L()},clone:function(z){z=x.instance({width:N,height:O,v:p.v,isFloat:p.isFloat,isLinear:p.isLinear,isMirrorY:p.isMirrorY,isFlipY:z?!ia:ia,isPot:p.isPot});Aa.set("s0");P.L();z.j();a.viewport(0,0,N,O);
U.a(0);S.g(!0,!0);return z},qd:function(){a.viewport(0,0,N,O)},remove:function(){a.deleteTexture(da);Ga=!0;F.splice(F.indexOf(U),1);U=null},refresh:function(){U.hb(0);ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);ma?a.texImage2D(a.TEXTURE_2D,0,Z,X,a.UNSIGNED_BYTE,p.s):a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,ja);ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},mb:function(){var z=N*O*4;na=[new Uint8Array(z),new Uint8Array(z),new Uint8Array(z),new Uint8Array(z)];ka=[new Float32Array(na[0].buffer),new Float32Array(na[1].buffer),
new Float32Array(na[2].buffer),new Float32Array(na[3].buffer)];Fa=new Uint8Array(4*z);ua=new Float32Array(Fa.buffer);za=!0},Rb:function(){za||U.mb();a.readPixels(0,0,N,4*O,a.RGBA,a.UNSIGNED_BYTE,Fa);for(var z=N*O,M=2*z,ba=3*z,Q=0;Q<z;++Q)ka[0][Q]=ua[Q],ka[1][Q]=ua[Q+z],ka[2][Q]=ua[Q+M],ka[3][Q]=ua[Q+ba];return ka},ad:function(){ra.Kb||(ra.ib=new Uint8Array(N*O*4),ra.yb=new Float32Array(ra.buffer),ra.Kb=!0);a.readPixels(0,0,N,O,a.RGBA,a.UNSIGNED_BYTE,ra.ib);return ra.yb},pb:function(z){P.A();B.set("s12");
U.a(0);if(z)a.viewport(0,0,N,O),B.Va("u8",.25,.25,.25,.25),S.g(!1,!0);else for(z=0;4>z;++z)a.viewport(0,O*z,N,O),B.Va("u8",T[z]),S.g(!1,0===z)},ye:function(z){var M=aa===n[0]&&!r();b(da);ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);M?(Ha||(ca=document.createElement("canvas"),ca.width=N,ca.height=O,Da=ca.getContext("2d"),Ea=Da.createImageData(N,O),Ha=!0),Ea.data.set(z),Da.putImageData(Ea,0,0),a.texImage2D(a.TEXTURE_2D,0,Z,X,aa,ca)):a.texImage2D(a.TEXTURE_2D,0,Z,N,O,0,X,aa,z);u[v]=Y;ia&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,
!1)},ze:function(z,M){b(da);M&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,Z,X,aa,z);u[v]=Y;M&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},oe:function(z,M){var ba=N*O,Q=4*ba;z=p.v?z?"RGBE":"JSON":"RGBA";M&&(z=M);M=K.O()&&!1;var qa=null;switch(z){case "RGBE":qa="s42";break;case "JSON":qa=M?"s0":"s12";break;case "RGBA":case "RGBAARRAY":qa="s6"}za||("RGBA"===z||"RGBE"===z||"RGBAARRAY"===z?(na=new Uint8Array(Q),za=!0):"JSON"!==z||M||U.mb());P.A();B.set(qa);U.a(0);Q=null;if("RGBA"===
z||"RGBE"===z||"RGBAARRAY"===z){a.viewport(0,0,N,O);S.g(!0,!0);a.readPixels(0,0,N,O,a.RGBA,a.UNSIGNED_BYTE,na);if("RGBAARRAY"===z)return{data:na};D||(H=document.createElement("canvas"),G=H.getContext("2d"),D=!0);H.width=N;H.height=O;ba=G.createImageData(N,O);ba.data.set(na);G.putImageData(ba,0,0);Q=H.toDataURL("image/png")}else if("JSON"===z)if(M)Q=new Float32Array(ba),a.viewport(0,0,N,O),S.g(!0,!0),a.readPixels(0,0,N,O,a.RGBA,a.FLOAT,Q);else{for(Q=0;4>Q;++Q)a.viewport(0,O*Q,N,O),B.Va("u8",T[Q]),
S.g(!Q,!Q);U.Rb();Q=Array(ba);for(M=0;M<ba;++M)Q[4*M]=ka[0][M],Q[4*M+1]=ka[1][M],Q[4*M+2]=ka[2][M],Q[4*M+3]=ka[3][M]}return{format:z,data:Q,width:N,height:O,isMirrorY:p.isMirrorY,isFlipY:"RGBA"===z?p.isFlipY:!p.isFlipY}}};p.isMipmap&&!pa&&ya&&!xa&&(U.Fa(),xa=!0);if(p.url)b(da),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null),oa=new Image,oa.Id="Anonymous",oa.crossOrigin="Anonymous",oa.src=p.url,oa.onload=function(){N=oa.width;O=oa.height;L()};else if(p.s){var Ia=function(){N=
void 0!==p.s.videoWidth?p.s.videoWidth:p.s.width;O=void 0!==p.s.videoHeight?p.s.videoHeight:p.s.height;N?L():setTimeout(Ia,1)};Ia()}else p.array?(p.v&&!p.isFloat?p.array instanceof Uint16Array?(ja=p.array,L()):h()?(ja=m(p.array),L()):(L(),x.xb(a,da,U.u(),U.D(),p.array,ia,!0)):(ja=p.isFloat?p.array instanceof Float32Array?p.array:new Float32Array(p.array):p.array instanceof Uint8Array?p.array:new Uint8Array(p.array),L()),p.isKeepArray||(ja&&ja!==p.array&&(ja=null),delete p.array)):p.Db||L();U.Zd=U.u;
p.S&&ya&&(p.S(U),p.S=null);F.push(U);return U},A:function(k){k!==v&&(a.activeTexture(q[k]),v=k);u[k]=-1;b(null)},Dd:function(k){d.random.a(k)},ab:function(){g=null;a.framebufferTexture2D(P.ka(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)},reset:function(){for(var k=0;k<q.length;++k)u[k]=-1;v=-1},me:function(){v=-1},wd:function(){for(var k=0;k<q.length;++k)x.A(k)},zb:function(){d&&(d.random.remove(),d.$b.remove())},xe:function(k,J){if("RGBA"===k.format||"RGBE"===k.format){var L=new Image;L.src=k.data;
L.onload=function(){x.instance({isMirrorY:k.isMirrorY,isFlipY:k.isFlipY,isFloat:!1,s:L,S:function(p){if("RGBA"===k.format)J(p);else{var Y=k.width,ha=k.height,ma=x.instance({isMirrorY:k.isMirrorY,isFloat:!0,width:Y,height:ha,isFlipY:k.isFlipY});P.L();a.viewport(0,0,Y,ha);B.set("s43");ma.j();p.a(0);S.g(!0,!0);x.A(0);J(ma);a.flush();setTimeout(p.remove,50)}}})}}else"JSON"===k.format?J(x.instance({isFloat:!0,isFlipY:k.isFlipY,width:k.width,height:k.height,array:new Float32Array(k.data)})):J(!1)},h:function(){g&&
(P.L(),x.ab(),P.A());x.wd();F.slice(0).forEach(function(k){k.remove()});F.splice(0);E=!1;f=0;"undefined"!==typeof Ba&&Ba.h();d=null}};return x}(),Ja={instance:function(b){var c=[V.instance(b),V.instance(b)],m=[c[1],c[0]],h=m,r={kd:function(l){h[1].j();h[0].a(l);r.Yb()},ld:function(l){h[1].G();h[0].a(l);r.Yb()},Yb:function(){h=h===c?m:c},refresh:function(){h[0].refresh();h[1].refresh()},a:function(l){h[0].a(l)},Cd:function(l){h[1].a(l)},Wd:function(){return h[0]},remove:function(){h[0].remove();h[1].remove();
h=null}};return r}},S=function(){function b(f){var u={K:null,o:null};u.K=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,u.K);f.bufferData(f.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),f.STATIC_DRAW);u.o=f.createBuffer();f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.o);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),f.STATIC_DRAW);return u}var c=null,m=0,h=!1,r=[],l=-2,v=-2,q={reset:function(){v=l=-2},l:function(){h||(c=b(a),q.ya(),h=!0)},instance:function(f){var u=m++,d=f.o?f.o.length:0,g=
"undefined"===typeof f.mode?a.STATIC_DRAW:f.mode,n=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,n);a.bufferData(a.ARRAY_BUFFER,f.K instanceof Float32Array?f.K:new Float32Array(f.K),g);l=u;var e=null,C=null,E=null;if(f.o){e=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e);var F=null;65536>f.o.length?(F=Uint16Array,C=a.UNSIGNED_SHORT,E=2):(F=Uint32Array,C=a.UNSIGNED_INT,E=4);F=f.o instanceof F?f.o:new F(f.o);a.bufferData(a.ELEMENT_ARRAY_BUFFER,F,g);v=u}var I={jc:function(D){l!==u&&(a.bindBuffer(a.ARRAY_BUFFER,
n),l=u);D&&Aa.Wa()},fc:function(){v!==u&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),v=u)},bind:function(D){I.jc(D);I.fc()},Kd:function(){a.drawElements(a.TRIANGLES,d,C,0)},Ld:function(D,H){a.drawElements(a.TRIANGLES,D,C,H*E)},remove:function(){a.deleteBuffer(n);f.o&&a.deleteBuffer(e);I=null}};r.push(I);return I},ya:function(){-1!==l&&(a.bindBuffer(a.ARRAY_BUFFER,c.K),l=-1);-1!==v&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.o),v=-1)},g:function(f,u){f&&S.ya();u&&Aa.ta();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,
0)},ia:function(f){f=f||a;var u=b(f);f.bindBuffer(f.ARRAY_BUFFER,u.K);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.o);Aa.ua(f);f.drawElements(f.TRIANGLES,3,f.UNSIGNED_SHORT,0);f.deleteBuffer(u.K);f.deleteBuffer(u.o);q.reset();h&&(q.ya(),Aa.ta())},zb:function(){var f=a,u=c;f.deleteBuffer(u.K);f.deleteBuffer(u.o)},h:function(){q.zb();r.forEach(function(f){f.remove()});a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);q.reset();h=!1;r.splice(0);m=0}};return q}(),P=function(){var b=
null,c=null,m=null,h=!1,r=[],l={m:-2,wb:1},v={la:function(){return h},l:function(){if(!h){b=a.createFramebuffer();var q=K.O();c=q&&a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER;m=q&&a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;h=!0}},Ud:function(){return c},Ac:function(){return m},ka:function(){return a.FRAMEBUFFER},Yd:function(){return l},Nd:function(){return b},instance:function(q){void 0===q.Hb&&(q.Hb=!1);var f=q.X?q.X:null,u=q.width,d=void 0!==q.height?q.height:q.width,g=b,n=null,
e=!1,C=!1,E=0;f&&(u=u?u:f.u(),d=d?d:f.D());var F={Xb:function(){e||(g=a.createFramebuffer(),e=!0,E=l.wb++)},bc:function(){F.Xb();F.j();n=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,n);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,u,d);a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,n);a.clearDepth(1)},bind:function(I,D){E!==l.m&&(a.bindFramebuffer(c,g),l.m=E);f&&f.j();D&&a.viewport(0,0,u,d);I&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Bd:function(){E!==
l.m&&(a.bindFramebuffer(c,g),l.m=E)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Gd:function(){a.clear(a.COLOR_BUFFER_BIT)},Hd:function(){a.clear(a.DEPTH_BUFFER_BIT)},qd:function(){a.viewport(0,0,u,d)},j:function(){E!==l.m&&(a.bindFramebuffer(c,g),l.m=E)},rtt:function(I){f=I;l.m!==E&&(a.bindFramebuffer(a.FRAMEBUFFER,g),l.m=E);I.j()},A:function(){a.bindFramebuffer(c,null);l.m=-1},resize:function(I,D){u=I;d=D;n&&(a.bindRenderbuffer(a.RENDERBUFFER,n),a.renderbufferStorage(a.RENDERBUFFER,
a.DEPTH_COMPONENT16,u,d))},remove:function(){g===b||C||(a.bindFramebuffer(c,g),a.framebufferTexture2D(c,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),n&&a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,null),a.bindFramebuffer(c,null),a.deleteFramebuffer(g),n&&a.deleteRenderbuffer(n));C=!0}};q.Hb&&F.bc();r.push(F);return F},A:function(){a.bindFramebuffer(c,null);l.m=-1},xd:function(){a.bindFramebuffer(c,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,K.u(),K.D());l.m=-1},
reset:function(){l.m=-2},L:function(){0!==l.m&&(a.bindFramebuffer(c,b),l.m=0)},clear:function(){a.viewport(0,0,K.u(),K.D());a.clear(a.COLOR_BUFFER_BIT)},h:function(){v.A();r.forEach(function(q){q.remove()});a.deleteFramebuffer(b);v.reset();h=!1;r.splice(0);l.m=-2;l.wb=1}};return v}(),K=function(){function b(){m="undefined"===typeof Ca?JEContext:Ca;h=!0}function c(d,g){for(var n=0;n<d.length;++n){var e=g.getExtension(d[n]);if(e)return e}return null}var m=null,h=!1,r={Ib:!1,Xa:null,Ya:null,Lb:!1,Nc:!1,
Za:null,Mb:!1,$a:null,Jb:!1,za:null,Hc:!1,Aa:null,Ic:!1},l=null,v={M:!0,N:!0,Ea:!0},q=null,f="undefined"===typeof window?{}:window,u={l:function(){if(h)return!0;l=Object.assign({},r);q=Object.assign({},v);h||b();var d=a;if(!l.Ib){l.Xa=u.tb(d);f.GL_EXT_FLOAT=l.Xa;l.Lb=l.Xa?!0:!1;if(l.Lb||u.O())l.Ya=u.ub(d),l.Nc=l.Ya?!0:!1,f.GL_EXT_FLOATLINEAR=l.Ya;l.Ib=!0}if(!l.Jb){l.Za=u.ha(d);l.Za&&(l.Mb=!0,f.GL_EXT_HALFFLOAT=l.Za);if(l.Mb||u.O())l.$a=u.vb(d),f.GL_EXT_HALFFLOATLINEAR=l.$a;l.de=l.$a?!0:!1;l.Jb=!0}l.za=
u.rb(d);l.Hc=l.za?!0:!1;f.GL_EXT_COLORBUFFERFLOAT=l.za;l.Aa=u.sb(d);l.Ic=l.Aa?!0:!1;f.GL_EXT_COLORBUFFERHALFFLOAT=l.Aa;P.l();V.l();if(!u.rc())return!1;S.l();V.Ec();return!0},u:function(){h||b();return m.u()},D:function(){h||b();return m.D()},O:function(){h||b();return m.O()},qb:function(d){u.rb(d);u.sb(d);u.tb(d);u.ub(d);u.ha(d);u.vb(d)},rb:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),sb:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float",
"OES_color_buffer_half_float"]),tb:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),ub:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),ha:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),vb:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Ga:function(d){var g=u.ha(d);return g&&g.HALF_FLOAT_OES?
g.HALF_FLOAT_OES:d.HALF_FLOAT||d.FLOAT},xc:function(){return q},lb:function(){return q.M},Fd:function(){return q.N},Ed:function(){return q.Ea},va:function(d,g,n){function e(){d.bindTexture(d.TEXTURE_2D,null);d.bindFramebuffer(C,null);d.deleteTexture(I);d.deleteFramebuffer(F)}var C=d.FRAMEBUFFER,E=d.NEAREST,F=d.createFramebuffer();d.bindFramebuffer(C,F);var I=d.createTexture();d.bindTexture(d.TEXTURE_2D,I);d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,E);
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,E);d.texImage2D(d.TEXTURE_2D,0,g,1,1,0,d.RGBA,n,null);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,I,0);if(d.checkFramebufferStatus(d.READ_FRAMEBUFFER||d.FRAMEBUFFER)!==d.FRAMEBUFFER_COMPLETE)return e(),!1;Aa.Ua(d);d.clearColor(0,0,0,0);d.viewport(0,0,1,1);d.disable(d.DEPTH_TEST);d.clear(d.COLOR_BUFFER_BIT);S.ia(d);d.bindFramebuffer(C,null);Aa.sa(d);d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,I);S.ia(d);g=new Uint8Array(4);
d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,g);e();return 3<Math.abs(g[0]-127)?!1:!0},Da:function(d){var g={M:!1,N:!1};d.disable(d.BLEND);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.RGBA32F&&u.va(d,d.RGBA32F,d.FLOAT)&&(g.M=!0);!g.M&&u.va(d,d.RGBA,d.FLOAT)&&(g.M=!0);var n=u.Ga(d);d.RGBA16F&&u.va(d,d.RGBA16F,n)&&(g.N=!0);!g.N&&u.va(d,d.RGBA,n)&&(g.N=!0);return g},sc:function(){var d=P.instance({width:1});d.Xb();var g=V.instance({width:1,isFloat:!0,na:3});d.j();g.j();a.flush();a.checkFramebufferStatus(P.Ac())!==
a.FRAMEBUFFER_COMPLETE?(V.hd(),q.Ea=!1):q.Ea=!0;d.remove();g.remove()},rc:function(){var d=u.Da(a);Object.assign(q,d);if(!q.M&&!q.N)return!1;u.sc();return!0},h:function(){V.h();Aa.h();P.h();S.h();h=!1}};return u}(),Ba=function(){function b(D,H,G,T){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,T?e.NEAREST_MIPMAP_NEAREST:e.LINEAR);var R=null;if(null!==G)try{R=e.getError();if("FUCKING_BIG_ERROR"===R)return!1;e.texImage2D(e.TEXTURE_2D,0,D,2,2,0,e.RGBA,H,G);R=e.getError();if(R!==e.NO_ERROR)return!1}catch(w){return!1}T&&
e.generateMipmap(e.TEXTURE_2D);e.clear(e.COLOR_BUFFER_BIT);S.ia(e);R=e.getError();if("FUCKING_BIG_ERROR"===R)return!1;e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,d);R=e.getError();R===e.INVALID_OPERATION&&"undefined"!==typeof e.PIXEL_PACK_BUFFER&&(e.bindBuffer(e.PIXEL_PACK_BUFFER,null),e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,d),R=e.getError());if(R!==e.NO_ERROR)return!1;if(G=0!==d[0])f.Qb=H,f.Gb=D;return G}function c(D,H){return C.M&&b(D,e.FLOAT,new Float32Array(n),H)?(q=v.fb,!0):!1}function m(D,
H,G){if(!C.N)return!1;var T=K.ha(e);if(T&&T.HALF_FLOAT_OES&&b(D,T.HALF_FLOAT_OES,new Uint16Array(n),H)||e.HALF_FLOAT&&b(D,e.HALF_FLOAT,new Uint16Array(n),H)||b(D,e.FLOAT,new Float32Array(n),H))return q=v.Y,!0;e.bindTexture(e.TEXTURE_2D,G);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.bindFramebuffer(f.ga,I);V.xb(e,G,1,1,new Float32Array(n),!1,!1);e.bindFramebuffer(f.ga,null);e.bindTexture(e.TEXTURE_2D,G);return b(D,null,null,H)?(q=v.Y,!0):!1}function h(D,H,G){u=!0;if(m(D,
!0,G)||c(H,!0))return!0;u=!1;return m(D,!1,G)||c(H,!1)?!0:!1}function r(D){if(q===v.C){e=D||a;q=v.RGBA8;u=!0;K.qb(e);C||(C=K.Da(e));P.reset();I=e.createFramebuffer();f.ga=e.DRAW_FRAMEBUFFER||e.FRAMEBUFFER;e.bindFramebuffer(f.ga,null);e.clearColor(0,0,0,0);e.viewport(0,0,1,1);B.C();E=B.sa(e);D=e.createTexture();e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,D);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,e.NEAREST);F=D;var H=D=e.RGBA,G=e.RGBA16F,T=e.RGBA32F;T&&(D=T);G&&(H=G);if((G||T)&&h(H,D,F))return l(),!0;D=H=e.RGBA;if(h(H,D,F))return l(),!0;q=v.RGBA8;l();return!1}}function l(){e.deleteProgram(E.T);e.deleteTexture(F);F=E=null}var v={C:-1,fb:3,Y:2,RGBA8:0},q=v.C,f={Qb:null,Gb:null,ga:null},u=!0,d=new Uint8Array(4),g=[.8,1,.8,1],n=[].concat(g,g,g,g),e=null,C=null,E=null,F=null,I=null;return{lc:function(D){r(D);return u},kb:function(D,H){q===v.C&&(typeof("undefined"!==H)&&(C=
H),r(D));return q!==v.RGBA8},ge:function(D){r(D);return q===v.fb},Pc:function(D){r(D);return q===v.Y},Vd:function(D){r(D);return f.Qb},zc:function(D){r(D);return f.Gb},h:function(){e=null;u=!0;q=v.C;C=null}}}(),Ka={instance:function(b){var c=V.instance(b.alpha),m=V.instance(b.beta);return{tc:function(){c.a(1);m.a(2)}}}},Ma={instance:function(b){var c=null,m=!1,h=!1,r=null,l=!1,v=!1,q=null,f="undefined"===typeof b.preprocessing?!1:b.preprocessing,u="undefined"===typeof b.preprocessingSize?b.size:b.preprocessingSize;
b.mask&&(m=!0,W&&void 0!==W.ec&&(b.mask=W.ec+b.mask),c=V.instance({isFloat:!1,url:b.mask}));var d=!1;b.customInputShader&&(d="s44",B.gb({name:"_",id:d,b:b.customInputShader,we:["uSource"],precision:"lowp"}),B.I(d,[{type:"1i",name:"_",value:0}]));switch(f){case "sobel":q="s31";l=!0;break;case "meanNormalization":q="s32";l=!0;break;case "grayScale":q="s28";l=!1;break;case "grayScaleTilt":q="s29";v=!0;l=!1;break;case "rgbGrayTilt":q="s30";v=!0;l=!1;break;case "copy":q=d?d:"s0";break;case "inputLightRegulation":q=
d?d:"s28";r=La.instance({Fb:u,Pb:b.size,Nb:b.nBlurPass,Oc:!1});h=!0;break;case "direct":case "none":q=!1;break;default:q="s3"}v&&B.I(q,[{name:"u26",type:"1f",value:b.tilt}]);m&&(q+="Mask");var g=V.instance({isFloat:!1,isPot:!1,width:b.size}),n={u:function(){return u},Ha:function(){return n.u()},Cc:function(){return h?r.Cb():g},B:function(){P.L();q&&(B.set(q),l&&B.H("u27",1/b.size),g.G(),m&&c.a(1),S.g(!1,!1),g.a(0),h&&r.process(g))},h:function(){g.remove();m&&c.remove()}};return n}},Sa={instance:function(b){"undefined"===
typeof b.normalize&&(b.normalize=!1);var c={input:null,fa:null,La:null,F:null,oa:null,Ra:null,Sa:null},m=null,h=[],r=[],l=!1,v=null,q=!0,f=-1,u=b.isReorganize?b.isReorganize:!1,d=b.kernelsCount?!0:!1,g=b.dynPelu?Ka.instance(b.dynPelu):!1,n=g?!0:!1,e={isEnabled:!1};b.Mc?(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.qa.Ha(),q=!1):"full"===b.connectivityUp&&(b.sparsity=b.qa.Ha());var C={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[b.activation],
E=b.sparsity*b.sparsity,F=!1,I=b.size,D="";if(b.maxPooling){switch(b.maxPooling.size){case 2:D="s33";break;case 4:D="s34"}F=!0;I/=b.maxPooling.size;c.Ra=V.instance({isFloat:!0,isPot:!1,width:I})}var H=void 0!==b.Uc&&b.Uc?!0:!1,G=null,T=null,R=null;if(H){G="s45"+b.index.toString();B.Eb("s45",G,[((b.normalization.n-1)/2).toFixed(1)]);B.I(G,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},
{type:"1f",name:"u31",value:b.normalization.k}]);var w={isFloat:!0,isPot:!0,width:b.size};T=V.instance(w);R=V.instance(w)}var t=-1,A=null;q&&(c.F=V.instance({isFloat:!0,isPot:!1,width:b.size}));c.fa=V.instance(b.bias);var y={u:function(){return b.size},Ha:function(){return I},Ab:function(){return b.classesCount},hc:function(x){m.a(x)},Yc:function(){b.remap&&b.remap.isEnabled&&(e={isEnabled:!0,Sc:V.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,
isPot:!1}),ma:b.remap.layers.map(function(x){return b.parent.Bc(x)}),depth:b.remap.depth})},jd:function(){switch(b.connectivityUp){case "direct":A=Na.instance(b.connectivity);break;case "square":A=Oa.instance(b.connectivity);break;case "squareFast":A=Pa.instance(b.connectivity,b.activation);break;case "full":A=Qa.instance(b.connectivity);break;case "conv":f=b.kernelsCount,A=Ra.instance(b.connectivity),u&&(c.oa=V.instance({width:I,isFloat:!0,isFlipY:!1,isPot:!1}))}if(A.W){var x=b.size*b.sparsity;t=
Math.log(x/b.size)/Math.log(2);c.input=V.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:x,Oa:t});c.La=V.instance({isFloat:!0,isPot:!0,width:b.size})}},B:function(x){m=x;A.W?(c.input.G(),d&&c.fa.a(2),A.B(e),c.input.a(0),c.input.wc(t),c.La.G(),d?B.set("s0"):(B.set("s27"),B.H("u25",E),c.fa.a(1)),c.input.ic(t,0),S.g(!1,!1),B.set(C),H?T.j():c.F.j(),c.La.a(0),n&&g.tc(),S.g(!1,!1)):(c.F.G(),c.fa.a(1),A.B());H&&(B.set(G),R.j(),T.a(0),S.g(!1,!1),B.set("s46"),B.H("u6",1),c.F.j(),R.a(1),S.g(!1,!1));if(q)return F?
(c.Ra.G(),c.F.a(0),B.set(D),B.ba("u7",1/b.size,1/b.size),S.g(!1,!1),x=c.Ra):x=c.F,x.a(0),u&&(c.oa.j(),B.set("s21"),B.ba("u12",f,I/f),S.g(!1,!1),x=c.oa,c.oa.a(0)),x;x=c.F;b.normalize&&(B.set("gpuRawAvg"===l?"s8":"s7"),B.H("u4",1/b.size),c.Sa.G(),c.F.a(0),S.g(!1,!1),x=c.Sa);switch(l){case "cpuRGBA2Float":x.pb(!1);x=y.$c(x);v(x);break;case "cpuMeanFloat":x.pb(!0);x=x.ad();v(x);break;case "gpuRawAvg":case "gpuRaw":x.a(0);case "none":null!==v&&v(x)}return!1},nc:function(x){x&&(l=x.Ta||"none",v=x.Qa||null);
c.F=V.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:b.size});x="undefined"!==typeof b.classesCount&&b.classesCount?b.classesCount:b.size*b.size;for(var k=0,J=0,L=0;k<x;++k)h.push(J+(b.size-1-L)*b.size),r.push([-1,-1,-1,-1]),++J,J===b.size&&(J=0,++L);b.normalize&&(c.Sa=V.instance({isFloat:!0,isPot:!0,width:b.size}))},$c:function(x){var k=x.Rb();h.forEach(function(J,L){r[L][0]=k[0][J];r[L][1]=k[1][J];r[L][2]=k[2][J];r[L][3]=k[3][J]});return r},h:function(){for(var x in c){var k=c[x];k&&k.remove()}A&&
(A.h(),A=null)}};b.qa&&y.jd(b.qa);return y}};
function Ta(b){var c=null,m=null,h=0;this.l=function(r){this.gd(r.ma);m.nc({Ta:r.Ta,Qa:r.Qa})};this.Bc=function(r){return c[r]};this.gd=function(r){var l=null;h=r.length;c=r.map(function(v,q){v=Object.assign({},v,{index:q,parent:this,qa:l,Mc:q===h-1});return l=q=0===q?Ma.instance(v):Sa.instance(v)});m=c[h-1];c.forEach(function(v,q){0!==q&&v.Yc()})};this.B=function(r,l){var v=l;c.forEach(function(q){v=q.B(v,r)});return v};this.Cb=function(){return m.Cc()};this.Ab=function(){return m.Ab()};this.h=function(){c&&
(c.forEach(function(r){r.h()}),m=c=null,h=0)};"undefined"!==typeof b&&this.l(b)}
var Na={instance:function(b){var c=V.instance(b.weights);return{W:!0,ja:function(){return 1},h:function(){c.remove()},Dc:function(){return c},B:function(){B.set("s26");c.a(1);S.g(!1,!1)}}}},Qa={instance:function(b){var c=b.fromLayerSize,m=V.instance(b.weights);return{W:!0,ja:function(){return c},h:function(){m.remove()},B:function(h){if(h.isEnabled){B.set("s24");h.Sc.a(3);var r,l=Math.min(h.ma.length,h.depth);for(r=0;r<l;++r)h.ma[r].hc(4+r)}else B.set("s23");B.H("u16",b.toLayerSize);m.a(1);S.g(!1,
!1)}}}},Oa={instance:function(b){for(var c=b.fromLayerSize,m=b.toLayerSize,h=b.toSparsity,r=h*m,l=r/c,v=c/m,q=0,f=0,u=0,d=Array(h*m*h*m*4),g=Array(h*m*h*m*4),n=Array(c*c),e=0;e<n.length;++e)n[e]=0;e=Math.floor(h/2);for(var C=.5/m,E=.5/c,F=.5/r,I=0;I<m;++I)for(var D=Math.round(I*v),H=0;H<m;++H){var G=Math.round(H*v),T=I/m,R=H/m;T+=C;R+=C;for(var w=0;w<h;++w){var t=D+w-e;0>t&&(t+=c);t>=c&&(t-=c);for(var A=0;A<h;++A){var y=q/r,x=f/r,k=G+A-e;0>k&&(k+=c);k>=c&&(k-=c);var J=t/c,L=k/c;x=1-x-1/r;J+=E;L+=
E;y+=F;x+=F;var p=I*h+w,Y=H*h+A;Y=m*h-Y-1;p=Y*m*h+p;d[4*p]=y;d[4*p+1]=x;d[4*p+2]=J;d[4*p+3]=L;L=n[k*c+t]++;p=L%l;J=t*l+p;k=k*l+(L-p)/l;k=c*l-1-k;k=k*c*l+J;g[4*k]=y;g[4*k+1]=x;g[4*k+2]=T;g[4*k+3]=R;++q>=r&&(q=0,++f);++u}}}n=null;var ha=V.instance(b.weights);delete b.weights.data;var ma=V.instance({width:r,isFloat:!0,array:new Float32Array(g),isPot:!0});g=null;var ca=V.instance({width:r,isFloat:!0,array:new Float32Array(d),isPot:!0});d=null;return{W:!0,ja:function(){return l},h:function(){ma.remove();
ca.remove();ha.remove()},B:function(){B.set("s22");ha.a(1);ca.a(2);S.g(!1,!1)}}}},Ra={instance:function(b){var c=b.kernelsCount,m=b.toSparsity,h=m*b.toLayerSize/b.fromLayerSize,r=V.instance(b.weights);return{W:!0,ja:function(){return h},ae:function(){return m},Dc:function(){return r},h:function(){r.remove()},B:function(){B.set("s25");B.H("u22",c);B.H("u23",m);B.H("u16",b.toLayerSize);B.H("u24",b.fromLayerSize);r.a(1);S.g(!1,!1)}}}},Pa={instance:function(b,c){var m=b.fromLayerSize,h=b.toLayerSize,
r=b.toSparsity,l=b.stride?b.stride:1,v=r*h/m,q=h<m,f=m/h,u=V.instance(b.weights),d="s47"+[m.toString(),h.toString(),r.toString(),l.toString(),c].join("_");B.vc(d)||(b=la(c),h=[{type:"1f",name:"u16",value:h},{type:"1f",name:"u30",value:l}],q&&h.push({type:"1f",name:"u24",value:m}),m=[(q?v:r).toFixed(1),b],q&&m.push(f.toFixed(1)),B.Eb(q?"s39":"s38",d,m),B.I(d,h.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",name:"u13",value:3}])));return{W:!1,ja:function(){return v},
h:function(){u.remove()},B:function(){B.set(d);u.a(3);S.g(!1,!1)}}}},La={instance:function(b){var c=b.Nb?b.Nb:3,m=b.Fb?b.Fb:64,h=b.Pb?b.Pb:64,r=b.Oc?!0:!1;b={isFloat:!1,width:m,isPot:!1,isFlipY:!1};var l=V.instance(b),v=V.instance(b),q=V.instance(b),f=V.instance(b),u=V.instance({isFloat:!0,width:h,isPot:!1,isFlipY:!1}),d=1/m;return{process:function(g){B.set("s35");f.j();S.g(r,!1);B.set("s36");for(var n=0;n<c;++n)l.j(),B.ba("u7",d,0),S.g(r,!1),q.j(),f.a(0),S.g(r,!1),v.j(),l.a(0),B.ba("u7",0,d),S.g(r,
!1),f.j(),q.a(0),S.g(r,!1),n!==c-1&&v.a(0);B.set("s37");u.j();g.a(0);v.a(1);f.a(2);S.g(r,!1);u.a(0)},Cb:function(){return u}}}};function Ua(b,c){b[c]=!0;b.setAttribute(c,"true")}function Wa(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Xa(){var b=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<b.length?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)]:[0,0,0]}
function Ya(){var b=navigator.userAgent.toLowerCase();return-1!==b.indexOf("safari")&&-1===b.indexOf("chrome")?!0:!1}function Za(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function $a(b){if(!b)return b;var c=null;if(b.video){var m=function(h){return h&&"object"===typeof h?Object.assign({},h):h};c={};"undefined"!==typeof b.video.width&&(c.width=m(b.video.width));"undefined"!==typeof b.video.height&&(c.height=m(b.video.height));"undefined"!==typeof b.video.facingMode&&(c.facingMode=m(b.video.facingMode))}c={audio:b.audio,video:c};"undefined"!==typeof b.deviceId&&(c.deviceId=b.deviceId);return c}
function ab(b){var c=b.video.width;b.video.width=b.video.height;b.video.height=c;return b}
function bb(b){function c(n){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(e,C){return Math.abs(e-n)-Math.abs(C-n)})}function m(n){var e=$a(b);n=n(e);r.push(n);h(n)}function h(n){if(n.video&&n.video.facingMode&&n.video.facingMode.exact){var e=n.video.facingMode.exact;n=$a(n);delete n.video.facingMode.exact;n.video.facingMode.ideal=e;r.push(n)}}var r=[];if(!b||!b.video)return r;h(b);if(b.video.width&&b.video.height){if(b.video.width.ideal&&b.video.height.ideal){var l=
c(b.video.width.ideal).slice(0,3),v=c(b.video.height.ideal).slice(0,3),q={},f=0;for(q.R=void 0;f<l.length;q={R:q.R},++f){q.R=l[f];var u={},d=0;for(u.P=void 0;d<v.length;u={P:u.P},++d)if(u.P=v[d],q.R!==b.video.width.ideal||u.P!==b.video.height.ideal){var g=Math.max(q.R,u.P)/Math.min(q.R,u.P);g<4/3-.1||g>16/9+.1||m(function(n,e){return function(C){C.video.width.ideal=n.R;C.video.height.ideal=e.P;return C}}(q,u))}}}m(function(n){return ab(n)})}b.video.width&&b.video.height&&(b.video.width.ideal&&b.video.height.ideal&&
m(function(n){delete n.video.width.ideal;delete n.video.height.ideal;return n}),m(function(n){delete n.video.width;delete n.video.height;return n}));b.video.facingMode&&(m(function(n){delete n.video.facingMode;return n}),b.video.width&&b.video.height&&m(function(n){ab(n);delete n.video.facingMode;return n}));r.push({audio:b.audio,video:!0});return r}
function cb(b){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(h){c=window.innerHeight>window.innerWidth}if(c&&b&&b.video){c=b.video.width;var m=b.video.height;c&&m&&c.ideal&&m.ideal&&c.ideal>m.ideal&&(b.video.height=c,b.video.width=m)}}
function db(b){b.volume=0;Ua(b,"muted");if(Ya()){if(1===b.volume){var c=function(){b.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){b.volume=0;Ua(b,"muted")},5)}}
function eb(b,c,m){return new Promise(function(h,r){if(b.srcObject&&b.srcObject.getVideoTracks){var l=b.srcObject.getVideoTracks();1!==l.length?r("INVALID_TRACKNUMBER"):(l=l[0],c?fb(b,h,r,m):(l.stop(),h()))}else r("BAD_IMPLEMENTATION")})}
function gb(b,c,m,h){function r(v){l||(l=!0,m(v))}var l=!1;navigator.mediaDevices.getUserMedia(h).then(function(v){function q(){setTimeout(function(){if(b.currentTime){var f=b.videoWidth,u=b.videoHeight;if(0===f||0===u)r("VIDEO_NULLSIZE");else{f&&(b.style.width=f.toString()+"px");u&&(b.style.height=u.toString()+"px");f={mc:null,rd:null,Tc:null};try{var d=v.getVideoTracks()[0];d&&(f.Tc=d,f.mc=d.getCapabilities(),f.rd=d.getSettings())}catch(g){}Ya()||Wa()?b.parentNode&&null!==b.parentNode?(l||c(b,v,
f),setTimeout(function(){b.play()},100)):(document.body.appendChild(b),db(b),l||c(b,v,f),setTimeout(function(){b.style.transform="scale(0.0001,0.0001)";b.style.position="fixed";b.style.bottom="0px";b.style.right="0px";db(b);setTimeout(function(){b.play()},100)},80)):l||c(b,v,f)}}else r("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof b.srcObject?b.srcObject=v:(b.src=window.URL.createObjectURL(v),b.videoStream=v);db(b);b.addEventListener("loadeddata",function(){var f=b.play();db(b);"undefined"===typeof f?
q():f.then(function(){q()}).catch(function(){r("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(v){r(v)})}
function fb(b,c,m,h){if(b)if(Za()){if(h&&h.video){if(Wa()){var r=Xa();(12>r[0]||12===r[0]&&2>r[1])&&cb(h)}h.video.width&&h.video.width.ideal&&(b.style.width=h.video.width.ideal+"px");h.video.height&&h.video.height.ideal&&(b.style.height=h.video.height.ideal+"px")}Ua(b,"autoplay");Ua(b,"playsinline");h&&h.audio?b.volume=0:Ua(b,"muted");gb(b,c,function(){function l(q){if(0===q.length)m("INVALID_FALLBACKCONSTRAINTS");else{var f=q.shift();gb(b,c,function(){l(q)},f)}}var v=bb(h);l(v)},h)}else m&&m("MEDIASTREAMAPI_NOTFOUND");
else m&&m("VIDEO_NOTPROVIDED")}
var hb=function(){var b={Ob:4,pa:[1.5,1.5,2],J:[.1,.1,.1],Sb:1,cb:-1,Ia:-1,td:2,Xc:1,Tb:!0,uc:.8},c=null,m=[],h=0,r=[.5,.5,1];return{l:function(l){c=Object.assign({},b,l);m.splice(0);l=c.pa[0]*c.J[0];var v=c.pa[1]*c.J[1],q=1/(1+c.pa[2]*c.J[2]),f=c.Sb*Math.min(c.cb,c.Ia),u=f/c.cb;f/=c.Ia;var d=.5*c.uc;d*=d;for(var g=0;g<c.Ob;++g){var n=Math.pow(q,g),e=u*n,C=f*n;n=e*l;var E=C*v,F=e/2;C/=2;for(var I=1+(1-F-F)/n,D=1+(1-C-C)/E,H=0;H<D;++H)for(var G=C+H*E,T=G-.5,R=0;R<I;++R){var w=F+R*n,t=w-.5;t*t+T*T>
d||m.push([w,G,e*c.Xc])}}c.Tb&&m.sort(function(A,y){var x=A[0]-.5;A=A[1]-.5;var k=y[0]-.5;y=y[1]-.5;return x*x+A*A-(k*k+y*y)})},get:function(){var l=m.length;if(0===l)return r;h>=l&&(h=0);var v=m[Math.floor(h)];h=(h+1/c.td)%l;return v}}}(),W={neuralNetworkPath:"NNC.json",dc:10,Gc:64,width:400,height:400,dd:[1,1,2],cd:2,ed:.7,J:[.2,.2,.3],vd:55,bd:[.1,1.1],ac:1,sd:.9,Zc:100,V:[.2,.8],Wb:.1,fd:.55,qc:1,zd:20};
function ib(b){function c(){++T;1===T&&(jb.ready=!0,b.kc(!1,{video:e.element,GL:a,videoTexture:e.X.get(),videoTextureCut:n.aa.get()}),F!==E.pause&&(h(),F=E.play,r(0)),T=0)}function m(y){G=setTimeout(r.bind(null,y),f)}function h(){H&&(window.cancelAnimationFrame(H),H=null);G&&(window.clearTimeout(G),G=null)}function r(){if(F!==E.pause){P.reset();P.L();var y=e.element.currentTime-t;0>y&&(t=e.element.currentTime);1E3*y<W.zd||(e.X.refresh(),t+=y,B.set("s50"),e.wa.G(),e.X.a(0),S.g(!1,!0));for(y=0;y<W.ac;++y)B.set("s51"),
n.aa.G(),e.wa.a(0),n.ca.a(1),S.g(!1,!1),n.aa.a(0),d.B(!1,n.aa);D===I.visible&&(P.xd(),B.set("s49"),e.wa.a(1),n.ca.a(0),S.g(!1,!1));a.flush();H=window.requestAnimationFrame(m)}}function l(){n.ca.ld(1);B.set("s52");B.od("u32",hb.get());S.g(!1,!1);B.set("s53");n.Pa.kd(1);n.ca.a(0);S.g(!1,!1);var y=Date.now();if(y-u>W.Zc){u=y;B.set("s1");P.A();n.Pa.a(0);S.g(!1,!1);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,C);var x=W.V[0]+w*(W.V[1]-W.V[0]),k=Math.abs(C[1]/255*2-1),J=128<C[0];y=J&&k<x+W.Wb;x=J&&k<x-W.Wb;
F===E.play&&x?(b.jb(!0),F=E.Ca):F!==E.Ca||y||(b.jb(!1),F=E.play);P.L()}}var v=Math.round(W.width),q=Math.round(W.height),f=W.dc,u=Date.now(),d=null;hb.l({pa:W.dd,Ob:W.cd,cb:v,Ia:q,Sb:W.ed,J:W.J,Tb:!0});var g=[1,v/q],n={aa:null,ca:null,Pa:null,Jd:null},e={element:null,X:null,wa:null,Ba:null},C=new Uint8Array([0,0,0,0]),E={Vc:-1,Rc:0,play:1,Ca:2,pause:3},F=E.Rc,I={hidden:0,visible:1},D=b.Jc?I.visible:I.hidden,H=null,G=null,T=0,R="undefined"!==typeof b.eb?b.eb:"../../",w=(("undefined"!==typeof b.Vb?
b.Vb:W.fd)-W.V[0])/(W.V[1]-W.V[0]),t=0,A={md:function(y){w=y},ud:function(y){D=y?I.visible:I.hidden},Zb:function(y,x){if(y&&F===E.pause||!y&&F!==E.pause)return Promise.resolve();x=x?eb(e.element,!y,e.Ba):Promise.resolve();y?(F=E.pause,h()):(F=E.Ca,h(),F=E.play,r(0));return x},pc:function(){d&&(d.h(),d=null);Ca.h();F=E.Vc},l:function(){e.Ba={video:{facingMode:{ideal:"user"},width:{min:480,max:1280,ideal:800},height:{min:480,max:1280,ideal:600}},audio:!1};fb(Za()?document.createElement("video"):!1,
function(y){A.start(y)},function(){errorCallback("NO_WEBCAM")},e.Ba)},start:function(y){e.element=y;A.Fc();A.oc();A.pd();ea(R+W.neuralNetworkPath,A.Qc.bind(null,c))},Fc:function(){B.cc([{id:"s50",name:"_",da:"attribute vec2 a0;uniform vec2 u33,u34;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u34+u33*a0;}",ea:["a0"],Z:[2],b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u33","u34"],precision:"lowp"},{id:"s51",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
da:"attribute vec2 a0;uniform sampler2D u35;uniform vec2 u36;const vec2 f=vec2(.25,.5),g=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u35,f);vec2 d=a.gb,b=a.a*u36;vec4 c=texture2D(u35,g);float l=c.a,i=c.y;vec2 j=vec2(1./cos(i),1.);b*=j;vec2 k=a0*.5+e;vv0=d+(k-e)*b,gl_Position=vec4(a0,0.,1.);}",ea:["a0"],Z:[2],c:["u1","u35","u36"],precision:"lowp"},{id:"s52",name:"_",da:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u37,u35;uniform vec3 u32,u38;uniform vec2 u39;uniform float u40,u41;const vec4 e=vec4(.25,.25,.25,.25);const float f=1e-3;void main(){vec4 b=texture2D(u35,vec2(.25,.5));float a=floor(b.r+f),c=0.;vec4 d=texture2D(u37,vec2(.125,.625)),g=texture2D(u37,vec2(.375,.625));bool h=dot(d-g,e)>u41;h?a=2.:a>u40?a=0.:a>1.9&&(b.a>u39.y||b.a<u39.x)?a=0.:a>1.9?a+=1.:0.;if(a<.9)b.gba=u32,a=1.;else{float i=dot(e,texture2D(u37,vec2(.375,.875))),j=dot(e,texture2D(u37,vec2(.625,.875))),k=dot(e,texture2D(u37,vec2(.875,.875))),l=dot(e,texture2D(u37,vec2(.125,.875)));c=clamp(l,-1.+f,1.-f);float m=step(1.5,a);a*=m;float n=b.a;b.gba+=vec3(i,j,k)*u38*n;}b.r=a+c*.5+.5,gl_FragColor=b;}",
c:"u37 u35 u32 u39 u40 u41 u38".split(" ")},{id:"s53",name:"_",b:"uniform sampler2D u35,u42;uniform float u43;varying vec2 vv0;const vec2 e=vec2(.5,.5);void main(){vec4 a=texture2D(u35,e),b=texture2D(u42,e);float c=step(2.,a.r),d=fract(a.r);vec4 f=vec4(c,d,0.,1.);gl_FragColor=mix(f,b,u43);}",c:["u35","u42","u43"]},{id:"s49",name:"_",b:"uniform sampler2D u35,u44;uniform vec2 u36;varying vec2 vv0;const vec2 j=vec2(1.,1.);const vec3 k=vec3(0.,.7,1.);void main(){vec4 f=texture2D(u35,vec2(.5,.5));vec3 l=texture2D(u44,vv0).rgb;vec2 g=f.gb;float m=f.a;vec2 a=m*u36,c=g+a,d=g;d-=a/2.,c-=a/2.;vec2 n=.5*(d+c),h=step(d,vv0)*step(vv0,c);float o=h.x*h.y;vec2 b=2.*abs(n-vv0)/a;b=pow(b,3.*j);float i=max(b.x,b.y);i*=o,gl_FragColor=vec4(mix(l,k,i),1.);}",
c:["u35","u44","u36"]}]);B.I("s51",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u35",value:1},{type:"2f",name:"u36",value:g}]);B.I("s53",[{type:"1i",name:"u35",value:0},{type:"1i",name:"u42",value:1},{type:"1f",name:"u43",value:W.sd}]);B.I("s49",[{type:"1i",name:"u35",value:0},{type:"1i",name:"u44",value:1},{type:"2f",name:"u36",value:g}]);B.I("s52",[{type:"1i",name:"u37",value:0},{type:"1i",name:"u35",value:1},{type:"1f",name:"u39",value:W.bd},{type:"1f",name:"u40",value:W.vd},{type:"1f",name:"u41",
value:W.qc},{type:"3f",name:"u38",value:[W.J[0]*g[0],W.J[1]*g[1],W.J[2]]}])},oc:function(){e.X=V.instance({s:e.element,isPot:!1,isFloat:!1,isFlipY:!0});e.wa=V.instance({isPot:!1,ke:!0,isFloat:!1,width:v,height:q});n.aa=V.instance({isPot:!0,isFloat:!1,width:W.Gc});n.ca=Ja.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0])});n.Pa=Ja.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,0,1])})},pd:function(){var y=[.5,.5],x=e.element.videoHeight/
e.element.videoWidth,k=Ca.D()/Ca.u();x>k?1>=x?y[0]*=x:y[1]/=x:(y[0]*=x,x=1/k,y[0]*=x,y[1]*=x);y[1]*=k;B.I("s50",[{type:"1i",name:"u1",value:0},{type:"2f",name:"u33",value:y},{type:"2f",name:"u34",value:[.5,.5]}])},Qc:function(y,x){x="object"===typeof x?x:JSON.parse(x);d=new Ta({ma:x.layers,Ta:"gpuRawAvg",Qa:l});y&&y()}};return A}
var jb={ready:!1,set_sensibility:function(b){jb.ready&&jb.U.md(b)},toggle_pause:function(b,c){return jb.ready?jb.U.Zb(b,c):Promise.reject()},destroy:function(){return new Promise(function(b,c){jb.U.Zb(!0,!0).catch(function(){c()}).finally(function(){jb.U.pc();b()})})},toggle_display:function(b){jb.ready&&jb.U.ud(b)},init:function(b){function c(m){b.callbackReady&&b.callbackReady(m?m:"UNKNOW_ERROR")}jb.U=ib({Jc:"undefined"===typeof b.isDisplayVideo?!0:b.isDisplayVideo,kc:function(m,h){b.callbackReady&&
b.callbackReady(m,h)},jb:b.callbackTrack,Vb:b.sensibility,eb:b.NNCPath});if(!Ca.l({ob:b.canvasId,width:W.width,height:W.height,debug:!1,Ma:!1,premultipliedAlpha:!0}))return c&&c("COMPAT_FAIL"),!1;B.l();jb.U.l();return!0}};window.GLANCETRACKERAPI=jb;
;return GLANCETRACKERAPI||window.GLANCETRACKERAPI;})();