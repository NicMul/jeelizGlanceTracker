 /**
 * Jeeliz Glance Tracker - https://github.com/jeeliz/jeelizGlanceTracker
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var GLANCETRACKERAPI=(function(){function da(b,c){var l=new XMLHttpRequest;l.open("GET",b,!0);l.withCredentials=!1;l.onreadystatechange=function(){4!==l.readyState||200!==l.status&&0!==l.status||c(l.responseText)};l.send()}
function ea(b){switch(b){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function ma(b,c){var l=c%8;return b[(c-l)/8]>>7-l&1}
function ra(b){var c=JSON.parse(b);b=c.ne;var l=c.nf,f=c.n;var p="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var r=p.length;c=new Uint8Array(r);for(var u=0;u<r;++u)c[u]=p.charCodeAt(u);p=new Float32Array(f);r=new Float32Array(l);u=b+l+1;for(var t=0;t<f;++t){for(var e=u*t,w=0===ma(c,e)?1:-1,x=e+1,d=1,z=0,g=x+b-1;g>=x;--g)z+=d*ma(c,g),d*=2;x=z;e=e+1+b;d=r.length;z=0;for(g=e;g<e+d;++g)r[z]=ma(c,g),++z;for(d=e=0;d<l;++d)e+=r[d]*Math.pow(2,-d-1);p[t]=0===e&&0===
x?0:w*(1+e)*Math.pow(2,1+x-Math.pow(2,b-1))}return p}
var C=function(){function b(q,n,F){n=q.createShader(n);q.shaderSource(n,F);q.compileShader(n);return q.getShaderParameter(n,q.COMPILE_STATUS)?n:!1}function c(q,n,F){n=b(q,q.VERTEX_SHADER,n);F=b(q,q.FRAGMENT_SHADER,F);q===a&&u.push(n,F);var J=q.createProgram();q.attachShader(J,n);q.attachShader(J,F);q.linkProgram(J);return J}function l(q,n){void 0===n.ba&&(n.ba="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===n.ca&&(n.ca=
["a0"]);void 0===n.X&&(n.X=[2]);if(void 0===n.precision||"highp"===n.precision)n.precision=d;n.id=w++;void 0!==n.Ac&&n.Ac.forEach(function(J,A){n.b=n.b.replace(J,n.na[A])});n.Pa=0;n.X.forEach(function(J){n.Pa+=4*J});n.S=c(q,n.ba,"precision "+n.precision+" float;\n"+n.b);n.i={};n.c.forEach(function(J){n.i[J]=q.getUniformLocation(n.S,J)});n.attributes={};n.Y=[];n.ca.forEach(function(J){var A=q.getAttribLocation(n.S,J);n.attributes[J]=A;n.Y.push(A)});if(n.f){q.useProgram(n.S);e=n;t=n.id;for(var F in n.f)q.uniform1i(n.i[F],
n.f[F])}n.Ea=!0}function f(q){ta.Ic(I);t!==q.id&&(I.C(),t=q.id,e=q,a.useProgram(q.S),q.Y.forEach(function(n){0!==n&&a.enableVertexAttribArray(n)}))}function p(q,n,F){l(q,n,F);q.useProgram(n.S);q.enableVertexAttribArray(0);t=-1;return e=n}function r(){return{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],f:{u1:0}}}var u=[],t=-1,e=null,w=0,x=!1,d="highp",z=["u1"],g=["u0"],B={u1:0},H={u0:0},D={u1:0,u2:1},h={u3:0},v={s0:r(),s1:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
c:z,f:B,precision:"lowp"},s2:{b:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],f:D},s3:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:z,f:B},s4:{b:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",c:["u1","u2"],f:D},s5:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
c:z,f:B},s6:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:z,f:B},s7:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],f:H},s8:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",c:["u0","u4"],f:H},s9:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
c:z,f:B},s10:{b:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",c:["u1","u5","u6"],f:{u1:0,u5:1}},s11:{b:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",c:["u1","u7"],f:B},s12:{b:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
c:["u1","u8"],f:B},s13:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:g,f:H},s14:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:g,f:H},s15:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:g,f:H},s16:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",
c:g,f:H},s17:{b:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u6","u9"],f:{u0:0,u6:1,u9:2}},s18:{b:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",c:g,f:H},s19:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",
c:g,f:H},s20:{b:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u10","u11"],f:{u0:0,u10:1}},s21:{b:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u12"],f:B},s22:{b:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",c:["u13","u14","u15"],f:{u14:0,u13:1,u15:2}},s23:{b:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",c:["u14","u13","u16"],f:{u14:0,u13:1}},s24:{b:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u13 u14 u16 u20 u17 u18 u19".split(" "),f:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6}},s25:{b:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",c:"u13 u14 u16 u22 u23 u24 u21".split(" "),f:{u14:0,
u13:1,u21:2}},s26:{b:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",c:["u13","u14"],f:{u14:0,u13:1}},s27:{b:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",c:["u1","u21","u25"],f:{u1:0,u21:1}},s28:{b:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:z,f:B,precision:"lowp"},s29:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u26"],f:B,precision:"lowp"},s30:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u26"],f:B,precision:"lowp"},s31:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u27"],f:D},s32:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u27"],f:D},s33:{b:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u7"],f:h},s34:{b:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u7"],f:h},s35:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
c:["u1"],f:B,precision:"lowp"},s36:{b:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",c:["u7","u1"],f:B,precision:"lowp"},s37:{b:"uniform sampler2D u1,u28,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u28,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",
c:["u1","u28","u29"],f:{u1:0,u28:1,u29:2}}},G={s38:{b:"uniform float u16,u30;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u16","u13","u14","u21","u30"],na:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{b:"uniform float u16,u30,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u16 u24 u13 u14 u21 u30".split(" "),na:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},I={ja:function(){return x},m:function(){if(!x){d="highp";for(var q in v)l(a,v[q],q);C.set("s0");a.enableVertexAttribArray(0);x=!0}},Fb:function(q){q.forEach(function(n){I.Sa(n)})},Sa:function(q){v[q.id]=q;l(a,q,q.id)},pb:function(q,n,F){n||(n=q);v[n]=Object.create(G[q]);v[n].hc=!0;G[q].na&&G[q].na.forEach(function(J,A){v[n].b=v[n].b.replace(new RegExp(J,"g"),F[A])});l(a,v[n],n)},set:function(q){f(v[q])},oa:function(q){return p(q,
r(),"s40")},La:function(q){return p(q,{b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s41")},Ub:function(q){return"undefined"===typeof v[q]?!1:v[q].Ea},C:function(){-1!==t&&(t=-1,e.Y.forEach(function(q){0!==q&&a.disableVertexAttribArray(q)}))},Na:function(){var q=0;e.Y.forEach(function(n,F){F=e.X[F];a.vertexAttribPointer(n,F,a.FLOAT,!1,e.Pa,q);q+=4*F})},fd:function(){a.enableVertexAttribArray(0)},pa:function(){I.qa(a)},qa:function(q){q.vertexAttribPointer(e.Y[0],2,q.FLOAT,
!1,8,0)},Id:function(q,n){a.uniform1i(e.i[q],n)},H:function(q,n){a.uniform1f(e.i[q],n)},$:function(q,n,F){a.uniform2f(e.i[q],n,F)},Jd:function(q,n){a.uniform2fv(e.i[q],n)},Kd:function(q,n){a.uniform3fv(e.i[q],n)},Jc:function(q,n,F,J){a.uniform3f(e.i[q],n,F,J)},Ld:function(q,n,F,J,A){a.uniform4f(e.i[q],n,F,J,A)},Ma:function(q,n){a.uniform4fv(e.i[q],n)},Md:function(q,n){a.uniformMatrix2fv(e.i[q],!1,n)},Nd:function(q,n){a.uniformMatrix3fv(e.i[q],!1,n)},Od:function(q,n){a.uniformMatrix4fv(e.i[q],!1,n)},
I:function(q,n){I.set(q);n.forEach(function(F){switch(F.type){case "4f":a.uniform4fv(e.i[F.name],F.value);break;case "3f":a.uniform3fv(e.i[F.name],F.value);break;case "2f":a.uniform2fv(e.i[F.name],F.value);break;case "1f":a.uniform1f(e.i[F.name],F.value);break;case "1i":a.uniform1i(e.i[F.name],F.value);break;case "mat2":a.uniformMatrix2fv(e.i[F.name],!1,F.value);break;case "mat3":a.uniformMatrix3fv(e.i[F.name],!1,F.value);break;case "mat4":a.uniformMatrix4fv(e.i[F.name],!1,F.value)}})},rd:function(){return"lowp"},
h:function(){a.disableVertexAttribArray(0);I.C();for(var q in v){var n=v[q];n.Ea&&(n.Ea=!1,a.deleteProgram(n.S));n.hc&&delete v[q]}u.forEach(function(F){a.deleteShader(F)});u.splice(0);w=0;x=!1}};return I}(),a=null,Aa=function(){function b(d){console.log("ERROR in ContextFF: ",d);return!1}function c(d){function z(){va.h();B.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;var g=document.createElement("canvas");g.setAttribute("width",
1);g.setAttribute("height",1);var B=null;try{B=g.getContext("webgl2",d)}catch(H){return!1}if(!B)return!1;l(B);K.bb(B);d=K.xa(B);if(!d.L&&!d.M)return z(),!1;d=va.Wa(B,d);z();return d?!0:!1}function l(d){d.clearColor(0,0,0,0);d.disable(d.DEPTH_TEST);d.disable(d.BLEND);d.disable(d.DITHER);d.disable(d.STENCIL_TEST);d.disable(d.SCISSOR_TEST);d.GENERATE_MIPMAP_HINT&&d.hint(d.GENERATE_MIPMAP_HINT,d.FASTEST);d.disable(d.SAMPLE_ALPHA_TO_COVERAGE);d.disable(d.SAMPLE_COVERAGE);d.depthFunc(d.LEQUAL);d.clearDepth(1)}
var f=null,p=null,r=null,u=null,t=!0,e=null,w=null,x={u:function(){return f.width},D:function(){return f.height},jd:function(){return f},hd:function(){return a},N:function(){return t},flush:function(){a.flush()},Xb:function(){e||(e=new Uint8Array(f.width*f.height*4));a.readPixels(0,0,f.width,f.height,a.RGBA,a.UNSIGNED_BYTE,e);return e},ld:function(){return f.toDataURL("image/jpeg")},md:function(){Q.A();p||(p=document.createElement("canvas"),r=p.getContext("2d"));p.width=f.width;p.height=f.height;
for(var d=x.Xb(),z=r.createImageData(p.width,p.height),g=p.width,B=p.height,H=z.data,D=0;D<B;++D)for(var h=B-D-1,v=0;v<g;++v){var G=4*(D*g+v),I=4*(h*g+v);H[G]=d[I];H[G+1]=d[I+1];H[G+2]=d[I+2];H[G+3]=d[I+3]}r.putImageData(z,0,0);return p.toDataURL("image/png")},kd:function(d){!p&&d&&(p=document.createElement("canvas"),r=p.getContext("2d"));var z=d?p:document.createElement("canvas");z.width=f.width;z.height=f.height;(d?r:z.getContext("2d")).drawImage(f,0,0);return z},m:function(d){d.$a&&!d.Za?f=document.getElementById(d.$a):
d.Za&&(f=d.Za);f||(f=document.createElement("canvas"));f.width=d&&void 0!==d.width?d.width:512;f.height=d&&void 0!==d.height?d.height:512;"undefined"===typeof d&&(d={});void 0===d.premultipliedAlpha&&(d.premultipliedAlpha=!1);void 0===d.Ga&&(d.Ga=!0);void 0===d.antialias&&(d.antialias=!1);if(!a){var z={antialias:d.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:d.premultipliedAlpha,stencil:!1,depth:d.Ga};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&
(z.antialias=!1);var g=c(z);!g&&z.antialias&&(z.antialias=!1,g=c(z));g&&(a=f.getContext("webgl2",z));a?t=!0:((a=f.getContext("webgl",z))||(a=f.getContext("experimental-webgl",z)),t=!1)}if(!a)return b("WebGL1 and 2 are not enabled");(u=a.getExtension("WEBGL_lose_context"))&&d.vc&&(w=d.vc,f.addEventListener("webglcontextlost",w,!1));if(!K.m())return b("Not enough GL capabilities");l(a);C.m();U.m();return va.Wa(a,K.Wb())?!0:b("Cannot filter float textures")},h:function(){a&&K.h();u&&w&&(f.removeEventListener("webglcontextlost",
w,!1),w=null);e=r=p=f=null}};return x}(),ta=function(){function b(){null===c&&("undefined"!==typeof C?c=C:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;b();return{Ic:function(l){c!==l&&(c&&c.C(),c=l)},ja:function(){return c.ja()},pa:function(){return c.pa()},qa:function(l){return c.qa(l)},Na:function(){return c.Na()},C:function(){return c.C()},set:function(l){return c.set(l)},oa:function(l){b();return c.oa(l)},La:function(l){b();return c.La(l)},h:function(){return c.h()}}}(),V=function(){function b(k){a.bindTexture(a.TEXTURE_2D,
k)}function c(k){J[0]=k;k=A[0];var M=k>>16&32768,L=k>>12&2047,m=k>>23&255;return 103>m?M:142<m?M|31744|((255==m?0:1)&&k&8388607):113>m?(L|=2048,M|(L>>114-m)+(L>>113-m&1)):M=(M|m-112<<10|L>>1)+(L&1)}function l(k){var M=new Uint16Array(k.length);k.forEach(function(L,m){M[m]=c(L)});return M}function f(){if(null!==S.Ca)return S.Ca;var k=r(l([1,1,1,1]));return null===k?!0:S.Ca=k}function p(){if(null!==S.Da)return S.Da;var k=r(new Uint8Array([255,255,255,255]));return null===k?!0:S.Da=k}function r(k){if(!ta.ja()||
!H)return null;var M=null;try{var L=a.getError();if("FUCKING_BIG_ERROR"===L)return!1;M=E.instance({isFloat:!1,v:!0,array:k,width:1});L=a.getError();if(L!==a.NO_ERROR)return!1}catch(m){return!1}Q.A();a.viewport(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);ta.set("s0");M.Ta(0);U.g(!0,!0);k=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,k);k=.9<k[0];M.remove();Q.K();return k}var u=0,t=null,e=0,w=null,x=null,d=null,z=null,g=null,B=null,H=!1,D=[],h={isFloat:!1,isPot:!0,isLinear:!1,
isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,s:null,fc:!1,v:!1,R:null,ka:4,Ha:0},v=!1,G=null,I=null,q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],n=!1,F=!1,J=new Float32Array(1),A=new Int32Array(J.buffer),S={Ca:null,Da:null},E={m:function(){H||(g=[a.RGB,null,a.RGB,a.RGBA],B=[a.RGB,null,a.RGB,a.RGBA],t=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7],n="undefined"!==
typeof JEContext,F="undefined"!==typeof K,n&&JEContext.Dd()&&t.push(a.TEXTURE8,a.TEXTURE9),w=[-1,-1,-1,-1,-1,-1,-1,-1],z=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT],H=!0)},cc:function(){if(!x){for(var k=new Float32Array(16384),M=0;16384>M;++M)k[M]=2*Math.random()-1;x={random:E.instance({isFloat:!0,isPot:!0,array:k,width:64}),Db:E.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}E.Tc()},wd:function(){return x.Db},Tc:function(){z[1]=K.Aa(a)},Cc:function(){B=g=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},
Fd:function(k,M){C.set("s1");Q.A();var L=k.u(),m=k.D();a.viewport(0,0,L,m);k.a(0);U.g(!1,!1);a.readPixels(0,0,L,m,a.RGBA,a.UNSIGNED_BYTE,M)},jb:function(k,M,L,m,X,fa,ka){k.activeTexture(k.TEXTURE0);var ba=k.createTexture();k.bindTexture(k.TEXTURE_2D,ba);X=X instanceof Float32Array?X:new Float32Array(X);0!==Math.log2(X.length)%1&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,
k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,fa);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,L,m,0,k.RGBA,k.FLOAT,X);k.bindTexture(k.TEXTURE_2D,null);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!1);ka&&(Q.K(),C.set("s0"));k.viewport(0,0,L,m);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,M,0);k.bindTexture(k.TEXTURE_2D,ba);ka?U.g(!0,!0):U.ga(k);k.deleteTexture(ba);H&&(w[0]=-1,d=null,u=0)},instance:function(k){function M(y){var N=
a.getError();if("FUCKING_BIG_ERROR"===N)return!1;a.texImage2D(a.TEXTURE_2D,0,Y,W,Z,y);N=a.getError();N!==a.NO_ERROR&&W!==a.RGBA&&(W=a.RGBA,a.texImage2D(a.TEXTURE_2D,0,Y,W,Z,y));return!0}function L(){if(!Ha){b(ca);ha&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,ha);m.isPot?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,m.isMirrorX?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,m.isMirrorY?a.MIRRORED_REPEAT:a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));m.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.nd().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Uc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,m.isLinear?a.LINEAR:a.NEAREST);m.isLinear?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,m.isMipmap&&!oa?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,m.isMipmap&&!oa?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);
W=g[m.ka-1];Y=B[m.ka-1];Z=z[fa];if(K.N()){var y=a.RGBA32F;W===a.RGBA&&Z===a.FLOAT?m.isMipmap||m.isLinear?Y=va.Yb(a):K.Xa()?y&&(Y=y):Y=a.RGBA16F||a.RGBA:W===a.RGB&&Z===a.FLOAT&&y&&(Y=y,W=a.RGBA)}if(m.v&&!m.isFloat||m.isFloat&&m.isMipmap&&va.kc())(y=a.RGBA16F)&&(Y=y),Z=K.Aa(a);m.Ha&&(wa=m.Ha);m.isSrgb&&4===m.ka&&(W=JEContext.ud());if(m.s)M(m.s);else if(m.url)M(na);else if(ia){y=ia;try{"FUCKING_BIG_ERROR"!==a.getError()&&(a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,y),a.getError()!==a.NO_ERROR&&(a.texImage2D(a.TEXTURE_2D,
0,Y,O,P,0,W,Z,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,O,P,0,a.RGBA,a.UNSIGNED_BYTE,null)))}catch(kb){a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,null)}m.isKeepArray||(ia=null)}else y=a.getError(),"FUCKING_BIG_ERROR"!==y&&(a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,null),y=a.getError(),y!==a.NO_ERROR&&(W=a.RGBA,m.v&&Z!==a.FLOAT&&(Z=a.FLOAT,a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,null))));if(m.isMipmap)if(!oa&&T)T.za(),xa=!0;else if(oa){y=Math.log2(Math.min(O,P));sa=Array(1+y);
sa[0]=ca;for(var N=1;N<=y;++N){var aa=Math.pow(2,N),R=O/aa;aa=P/aa;var pa=a.createTexture();b(pa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,Y,R,aa,0,W,Z,null);b(null);sa[N]=pa}xa=!0}b(null);w[u]=-1;ha&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);ya=!0;m.R&&T&&(m.R(T),m.R=null)}}var m=Object.assign({},h,k),X=e++;null===m.isFlipY&&(m.isFlipY=m.url||m.array?!0:!1);m.data&&(m.array="string"===typeof m.data?
ra(m.data):m.isFloat?new Float32Array(m.data):new Uint8Array(m.data),m.isFlipY=!1);var fa=0,ka=m.s?!0:!1,ba=null,Ca=null,Ia=!1,Da=null;m.v=m.v||m.isFloat;m.v&&(fa=1);m.fc||K.N()||!m.isFloat||!F||K.Xa()||(m.isFloat=!1);m.isFloat&&(fa=2);m.isAnisotropicFiltering&&n&&!JEContext.yd()&&(m.isAnisotropicFiltering=!1);var ca=a.createTexture(),na=null,ia=!1,O=0,P=0,ya=!1,Ha=!1,za=!1,ja=null,la=null,Ea=null,ua=null,Y=null,W=null,Z=null,ha=m.isFlipY,Ua=(k=m.v&&m.isMipmap)&&va.Mb(),oa=k&&Ua?!0:!1,sa=null,wa=
-1,xa=!1,qa={tb:!1,Ua:null,kb:null};m.width&&(O=m.width,P=m.height?m.height:O);var T={get:function(){return ca},u:function(){return O},D:function(){return P},xd:function(){return m.url},zd:function(){return m.isFloat},Bd:function(){return m.v},Cd:function(){return m.isLinear},za:function(){a.generateMipmap(a.TEXTURE_2D)},Jb:function(y,N){oa?(y||(y=T.nb()),T.ta(N),b(sa[y]),w[N]=-1):T.a(N)},nb:function(){-1===wa&&(wa=Math.log(O)/Math.log(2));return wa},Vb:function(y){if(oa){y||(y=T.nb());C.set("s11");
T.ta(0);for(var N=O,aa=P,R=1;R<=y;++R)N/=2,aa/=2,C.$("u7",.25/N,.25/aa),a.viewport(0,0,N,aa),b(sa[R-1]),a.framebufferTexture2D(Q.ia(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,sa[R],0),U.g(!1,1===R);w[0]=-1}else T.za()},ta:function(y){y!==u&&(a.activeTexture(t[y]),u=y)},a:function(y){if(!ya)return!1;T.ta(y);if(w[y]===X)return!1;b(ca);w[y]=X;return!0},Ta:function(y){a.activeTexture(t[y]);u=y;b(ca);w[y]=X},j:function(){d=T;a.framebufferTexture2D(Q.ia(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ca,0)},G:function(){d=
T;a.viewport(0,0,O,P);a.framebufferTexture2D(Q.ia(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ca,0)},Oa:E.Oa,resize:function(y,N){O=y;P=N;L()},clone:function(y){y=E.instance({width:O,height:P,v:m.v,isFloat:m.isFloat,isLinear:m.isLinear,isMirrorY:m.isMirrorY,isFlipY:y?!ha:ha,isPot:m.isPot});ta.set("s0");Q.K();y.j();a.viewport(0,0,O,P);T.a(0);U.g(!0,!0);return y},Lc:function(){a.viewport(0,0,O,P)},remove:function(){a.deleteTexture(ca);Ha=!0;D.splice(D.indexOf(T),1);T=null},refresh:function(){T.Ta(0);ha&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,
!0);ka?a.texImage2D(a.TEXTURE_2D,0,Y,W,a.UNSIGNED_BYTE,m.s):a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,ia);ha&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Ya:function(){var y=O*P*4;la=[new Uint8Array(y),new Uint8Array(y),new Uint8Array(y),new Uint8Array(y)];ja=[new Float32Array(la[0].buffer),new Float32Array(la[1].buffer),new Float32Array(la[2].buffer),new Float32Array(la[3].buffer)];Ea=new Uint8Array(4*y);ua=new Float32Array(Ea.buffer);za=!0},yb:function(){za||T.Ya();a.readPixels(0,0,O,4*P,a.RGBA,a.UNSIGNED_BYTE,
Ea);for(var y=O*P,N=2*y,aa=3*y,R=0;R<y;++R)ja[0][R]=ua[R],ja[1][R]=ua[R+y],ja[2][R]=ua[R+N],ja[3][R]=ua[R+aa];return ja},zc:function(){qa.tb||(qa.Ua=new Uint8Array(O*P*4),qa.kb=new Float32Array(qa.buffer),qa.tb=!0);a.readPixels(0,0,O,P,a.RGBA,a.UNSIGNED_BYTE,qa.Ua);return qa.kb},ab:function(y){Q.A();C.set("s12");T.a(0);if(y)a.viewport(0,0,O,P),C.Ma("u8",.25,.25,.25,.25),U.g(!1,!0);else for(y=0;4>y;++y)a.viewport(0,P*y,O,P),C.Ma("u8",q[y]),U.g(!1,0===y)},Qd:function(y){var N=Z===z[0]&&!p();b(ca);ha&&
a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);N?(Ia||(ba=document.createElement("canvas"),ba.width=O,ba.height=P,Ca=ba.getContext("2d"),Da=Ca.createImageData(O,P),Ia=!0),Da.data.set(y),Ca.putImageData(Da,0,0),a.texImage2D(a.TEXTURE_2D,0,Y,W,Z,ba)):a.texImage2D(a.TEXTURE_2D,0,Y,O,P,0,W,Z,y);w[u]=X;ha&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Rd:function(y,N){b(ca);N&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,Y,W,Z,y);w[u]=X;N&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Hd:function(y,
N){var aa=O*P,R=4*aa;y=m.v?y?"RGBE":"JSON":"RGBA";N&&(y=N);N=K.N()&&!1;var pa=null;switch(y){case "RGBE":pa="s42";break;case "JSON":pa=N?"s0":"s12";break;case "RGBA":case "RGBAARRAY":pa="s6"}za||("RGBA"===y||"RGBE"===y||"RGBAARRAY"===y?(la=new Uint8Array(R),za=!0):"JSON"!==y||N||T.Ya());Q.A();C.set(pa);T.a(0);R=null;if("RGBA"===y||"RGBE"===y||"RGBAARRAY"===y){a.viewport(0,0,O,P);U.g(!0,!0);a.readPixels(0,0,O,P,a.RGBA,a.UNSIGNED_BYTE,la);if("RGBAARRAY"===y)return{data:la};v||(G=document.createElement("canvas"),
I=G.getContext("2d"),v=!0);G.width=O;G.height=P;aa=I.createImageData(O,P);aa.data.set(la);I.putImageData(aa,0,0);R=G.toDataURL("image/png")}else if("JSON"===y)if(N)R=new Float32Array(aa),a.viewport(0,0,O,P),U.g(!0,!0),a.readPixels(0,0,O,P,a.RGBA,a.FLOAT,R);else{for(R=0;4>R;++R)a.viewport(0,P*R,O,P),C.Ma("u8",q[R]),U.g(!R,!R);T.yb();R=Array(aa);for(N=0;N<aa;++N)R[4*N]=ja[0][N],R[4*N+1]=ja[1][N],R[4*N+2]=ja[2][N],R[4*N+3]=ja[3][N]}return{format:y,data:R,width:O,height:P,isMirrorY:m.isMirrorY,isFlipY:"RGBA"===
y?m.isFlipY:!m.isFlipY}}};m.isMipmap&&!oa&&ya&&!xa&&(T.za(),xa=!0);if(m.url)b(ca),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null),na=new Image,na.bd="Anonymous",na.crossOrigin="Anonymous",na.src=m.url,na.onload=function(){O=na.width;P=na.height;L()};else if(m.s){var Ja=function(){O=void 0!==m.s.videoWidth?m.s.videoWidth:m.s.width;P=void 0!==m.s.videoHeight?m.s.videoHeight:m.s.height;O?L():setTimeout(Ja,1)};Ja()}else m.array?(m.v&&!m.isFloat?m.array instanceof Uint16Array?(ia=
m.array,L()):f()?(ia=l(m.array),L()):(L(),E.jb(a,ca,T.u(),T.D(),m.array,ha,!0)):(ia=m.isFloat?m.array instanceof Float32Array?m.array:new Float32Array(m.array):m.array instanceof Uint8Array?m.array:new Uint8Array(m.array),L()),m.isKeepArray||(ia&&ia!==m.array&&(ia=null),delete m.array)):L();T.td=T.u;m.R&&ya&&(m.R(T),m.R=null);D.push(T);return T},A:function(k){k!==u&&(a.activeTexture(t[k]),u=k);w[k]=-1;b(null)},Xc:function(k){x.random.a(k)},Oa:function(){d=null;a.framebufferTexture2D(Q.ia(),a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0)},reset:function(){for(var k=0;k<t.length;++k)w[k]=-1;u=-1},Gd:function(){u=-1},Rc:function(){for(var k=0;k<t.length;++k)E.A(k)},lb:function(){x&&(x.random.remove(),x.Db.remove())},Pd:function(k,M){if("RGBA"===k.format||"RGBE"===k.format){var L=new Image;L.src=k.data;L.onload=function(){E.instance({isMirrorY:k.isMirrorY,isFlipY:k.isFlipY,isFloat:!1,s:L,R:function(m){if("RGBA"===k.format)M(m);else{var X=k.width,fa=k.height,ka=E.instance({isMirrorY:k.isMirrorY,isFloat:!0,width:X,
height:fa,isFlipY:k.isFlipY});Q.K();a.viewport(0,0,X,fa);C.set("s43");ka.j();m.a(0);U.g(!0,!0);E.A(0);M(ka);a.flush();setTimeout(m.remove,50)}}})}}else"JSON"===k.format?M(E.instance({isFloat:!0,isFlipY:k.isFlipY,width:k.width,height:k.height,array:new Float32Array(k.data)})):M(!1)},h:function(){d&&(Q.K(),E.Oa(),Q.A());E.Rc();D.slice(0).forEach(function(k){k.remove()});D.splice(0);H=!1;e=0;"undefined"!==typeof va&&va.h()}};return E}(),Ba={instance:function(b){var c=[V.instance(b),V.instance(b)],l=
[c[1],c[0]],f=l,p={Fc:function(r){f[1].j();f[0].a(r);p.Bb()},Gc:function(r){f[1].G();f[0].a(r);p.Bb()},Bb:function(){f=f===c?l:c},refresh:function(){f[0].refresh();f[1].refresh()},a:function(r){f[0].a(r)},Wc:function(r){f[1].a(r)},qd:function(){return f[0]},remove:function(){f[0].remove();f[1].remove();f=null}};return p}},U=function(){function b(e){var w={J:null,o:null};w.J=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,w.J);e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),e.STATIC_DRAW);
w.o=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,w.o);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),e.STATIC_DRAW);return w}var c=null,l=0,f=!1,p=[],r=-2,u=-2,t={reset:function(){u=r=-2},m:function(){f||(c=b(a),t.ua(),f=!0)},instance:function(e){var w=l++,x=e.o?e.o.length:0,d="undefined"===typeof e.mode?a.STATIC_DRAW:e.mode,z=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,z);a.bufferData(a.ARRAY_BUFFER,e.J instanceof Float32Array?e.J:new Float32Array(e.J),d);r=w;var g=null,B=
null,H=null;if(e.o){g=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,g);var D=null;65536>e.o.length?(D=Uint16Array,B=a.UNSIGNED_SHORT,H=2):(D=Uint32Array,B=a.UNSIGNED_INT,H=4);D=e.o instanceof D?e.o:new D(e.o);a.bufferData(a.ELEMENT_ARRAY_BUFFER,D,d);u=w}var h={Kb:function(v){r!==w&&(a.bindBuffer(a.ARRAY_BUFFER,z),r=w);v&&ta.Na()},Hb:function(){u!==w&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,g),u=w)},bind:function(v){h.Kb(v);h.Hb()},dd:function(){a.drawElements(a.TRIANGLES,x,B,0)},ed:function(v,
G){a.drawElements(a.TRIANGLES,v,B,G*H)},remove:function(){a.deleteBuffer(z);e.o&&a.deleteBuffer(g);h=null}};p.push(h);return h},ua:function(){-1!==r&&(a.bindBuffer(a.ARRAY_BUFFER,c.J),r=-1);-1!==u&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.o),u=-1)},g:function(e,w){e&&U.ua();w&&ta.pa();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,0)},ga:function(e){e=e||a;var w=b(e);e.bindBuffer(e.ARRAY_BUFFER,w.J);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,w.o);ta.qa(e);e.drawElements(e.TRIANGLES,3,e.UNSIGNED_SHORT,0);e.deleteBuffer(w.J);
e.deleteBuffer(w.o);t.reset();f&&(t.ua(),ta.pa())},lb:function(){var e=a,w=c;e.deleteBuffer(w.J);e.deleteBuffer(w.o)},h:function(){t.lb();p.forEach(function(e){e.remove()});a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);t.reset();f=!1;p.splice(0);l=0}};return t}(),Q=function(){var b=null,c=null,l=null,f=!1,p=[],r={l:-2,ib:1},u={ja:function(){return f},m:function(){if(!f){b=a.createFramebuffer();var t=K.N();c=t&&a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER;l=t&&
a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;f=!0}},od:function(){return c},Zb:function(){return l},ia:function(){return a.FRAMEBUFFER},sd:function(){return r},gd:function(){return b},instance:function(t){void 0===t.sb&&(t.sb=!1);var e=t.V?t.V:null,w=t.width,x=void 0!==t.height?t.height:t.width,d=b,z=null,g=!1,B=!1,H=0;e&&(w=w?w:e.u(),x=x?x:e.D());var D={Ab:function(){g||(d=a.createFramebuffer(),g=!0,H=r.ib++)},Eb:function(){D.Ab();D.j();z=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,
z);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,w,x);a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,z);a.clearDepth(1)},bind:function(h,v){H!==r.l&&(a.bindFramebuffer(c,d),r.l=H);e&&e.j();v&&a.viewport(0,0,w,x);h&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Vc:function(){H!==r.l&&(a.bindFramebuffer(c,d),r.l=H)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},$c:function(){a.clear(a.COLOR_BUFFER_BIT)},ad:function(){a.clear(a.DEPTH_BUFFER_BIT)},Lc:function(){a.viewport(0,
0,w,x)},j:function(){H!==r.l&&(a.bindFramebuffer(c,d),r.l=H)},rtt:function(h){e=h;r.l!==H&&(a.bindFramebuffer(a.FRAMEBUFFER,d),r.l=H);h.j()},A:function(){a.bindFramebuffer(c,null);r.l=-1},resize:function(h,v){w=h;x=v;z&&(a.bindRenderbuffer(a.RENDERBUFFER,z),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,w,x))},remove:function(){d===b||B||(a.bindFramebuffer(c,d),a.framebufferTexture2D(c,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),z&&a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,
null),a.bindFramebuffer(c,null),a.deleteFramebuffer(d),z&&a.deleteRenderbuffer(z));B=!0}};t.sb&&D.Eb();p.push(D);return D},A:function(){a.bindFramebuffer(c,null);r.l=-1},Sc:function(){a.bindFramebuffer(c,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,K.u(),K.D());r.l=-1},reset:function(){r.l=-2},K:function(){0!==r.l&&(a.bindFramebuffer(c,b),r.l=0)},clear:function(){a.viewport(0,0,K.u(),K.D());a.clear(a.COLOR_BUFFER_BIT)},h:function(){u.A();p.forEach(function(t){t.remove()});a.deleteFramebuffer(b);
u.reset();f=!1;p.splice(0);r.l=-2;r.ib=1}};return u}(),K=function(){function b(){l="undefined"===typeof Aa?JEContext:Aa;f=!0}function c(h,v){for(var G=0;G<h.length;++G){var I=v.getExtension(h[G]);if(I)return I}return null}var l=null,f=!1,p=!1,r=null,u=null,t=!1,e=null,w=!1,x=null,d=!1,z=null,g=null,B={L:!0,M:!0,ya:!0},H="undefined"===typeof window?{}:window,D={m:function(){if(f)return!0;b();var h=a;if(!p){r=D.fb(h);if((t=(H.GL_EXT_FLOAT=r)?!0:!1)||D.N())u=D.gb(h),H.GL_EXT_FLOATLINEAR=u;p=!0}if(!d){if(e=
D.fa(h))w=!0,H.GL_EXT_HALFFLOAT=e;if(w||D.N())x=D.hb(h),H.GL_EXT_HALFFLOATLINEAR=x;d=!0}z=D.cb(h);H.GL_EXT_COLORBUFFERFLOAT=z;g=D.eb(h);H.GL_EXT_COLORBUFFERHALFFLOAT=g;Q.m();V.m();if(!D.Rb())return!1;U.m();V.cc();return!0},u:function(){f||b();return l.u()},D:function(){f||b();return l.D()},N:function(){f||b();return l.N()},bb:function(h){D.cb(h);D.eb(h);D.fb(h);D.gb(h);D.fa(h);D.hb(h)},cb:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),eb:c.bind(null,["EXT_color_buffer_half_float",
"WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),fb:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),gb:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),fa:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),hb:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Aa:function(h){var v=
D.fa(h);return v&&v.HALF_FLOAT_OES?v.HALF_FLOAT_OES:h.HALF_FLOAT||h.FLOAT},Wb:function(){return B},Xa:function(){return B.L},Zc:function(){return B.M},Yc:function(){return B.ya},ra:function(h,v,G){function I(){h.bindTexture(h.TEXTURE_2D,null);h.bindFramebuffer(q,null);h.deleteTexture(J);h.deleteFramebuffer(F)}var q=h.FRAMEBUFFER,n=h.NEAREST,F=h.createFramebuffer();h.bindFramebuffer(q,F);var J=h.createTexture();h.bindTexture(h.TEXTURE_2D,J);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MIN_FILTER,n);h.texImage2D(h.TEXTURE_2D,0,v,1,1,0,h.RGBA,G,null);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,J,0);if(h.checkFramebufferStatus(h.READ_FRAMEBUFFER||h.FRAMEBUFFER)!==h.FRAMEBUFFER_COMPLETE)return I(),!1;ta.La(h);h.clearColor(0,0,0,0);h.viewport(0,0,1,1);h.disable(h.DEPTH_TEST);h.clear(h.COLOR_BUFFER_BIT);U.ga(h);h.bindFramebuffer(q,null);ta.oa(h);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,J);U.ga(h);v=new Uint8Array(4);h.readPixels(0,0,
1,1,h.RGBA,h.UNSIGNED_BYTE,v);I();return 3<Math.abs(v[0]-127)?!1:!0},xa:function(h){var v={L:!1,M:!1};h.disable(h.BLEND);h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);h.RGBA32F&&D.ra(h,h.RGBA32F,h.FLOAT)&&(v.L=!0);!v.L&&D.ra(h,h.RGBA,h.FLOAT)&&(v.L=!0);var G=D.Aa(h);h.RGBA16F&&D.ra(h,h.RGBA16F,G)&&(v.M=!0);!v.M&&D.ra(h,h.RGBA,G)&&(v.M=!0);return v},Sb:function(){var h=Q.instance({width:1});h.Ab();var v=V.instance({width:1,isFloat:!0,ka:3});h.j();v.j();a.flush();a.checkFramebufferStatus(Q.Zb())!==
a.FRAMEBUFFER_COMPLETE?(V.Cc(),B.ya=!1):B.ya=!0;h.remove();v.remove()},Rb:function(){var h=D.xa(a);Object.assign(B,h);if(!B.L&&!B.M)return!1;D.Sb();return!0},h:function(){V.h();ta.h();Q.h();U.h();f=!1}};return D}(),va=function(){function b(v,G,I,q){g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,q?g.NEAREST_MIPMAP_NEAREST:g.LINEAR);var n=null;if(null!==I)try{n=g.getError();if("FUCKING_BIG_ERROR"===n)return!1;g.texImage2D(g.TEXTURE_2D,0,v,2,2,0,g.RGBA,G,I);n=g.getError();if(n!==g.NO_ERROR)return!1}catch(F){return!1}q&&
g.generateMipmap(g.TEXTURE_2D);g.clear(g.COLOR_BUFFER_BIT);U.ga(g);n=g.getError();if("FUCKING_BIG_ERROR"===n)return!1;g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,x);n=g.getError();n===g.INVALID_OPERATION&&"undefined"!==typeof g.PIXEL_PACK_BUFFER&&(g.bindBuffer(g.PIXEL_PACK_BUFFER,null),g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,x),n=g.getError());if(n!==g.NO_ERROR)return!1;if(I=0!==x[0])e.xb=G,e.rb=v;return I}function c(v,G){return B.L&&b(v,g.FLOAT,new Float32Array(z),G)?(t=u.Ra,!0):!1}function l(v,
G,I){if(!B.M)return!1;var q=K.fa(g);if(q&&q.HALF_FLOAT_OES&&b(v,q.HALF_FLOAT_OES,new Uint16Array(z),G)||g.HALF_FLOAT&&b(v,g.HALF_FLOAT,new Uint16Array(z),G)||b(v,g.FLOAT,new Float32Array(z),G))return t=u.W,!0;g.bindTexture(g.TEXTURE_2D,I);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,1,1,0,g.RGBA,g.UNSIGNED_BYTE,null);g.bindFramebuffer(e.ea,h);V.jb(g,I,1,1,new Float32Array(z),!1,!1);g.bindFramebuffer(e.ea,null);g.bindTexture(g.TEXTURE_2D,I);return b(v,null,null,G)?(t=u.W,!0):!1}function f(v,G,I){w=!0;if(l(v,
!0,I)||c(G,!0))return!0;w=!1;return l(v,!1,I)||c(G,!1)?!0:!1}function p(v){if(t===u.C){g=v||a;t=u.RGBA8;w=!0;K.bb(g);B||(B=K.xa(g));Q.reset();h=g.createFramebuffer();e.ea=g.DRAW_FRAMEBUFFER||g.FRAMEBUFFER;g.bindFramebuffer(e.ea,null);g.clearColor(0,0,0,0);g.viewport(0,0,1,1);C.C();H=C.oa(g);v=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,v);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,g.NEAREST);D=v;var G=v=g.RGBA,I=g.RGBA16F,q=g.RGBA32F;q&&(v=q);I&&(G=I);if((I||q)&&f(G,v,D))return r(),!0;v=G=g.RGBA;if(f(G,v,D))return r(),!0;t=u.RGBA8;r();return!1}}function r(){g.deleteProgram(H.S);g.deleteTexture(D);D=H=null}var u={C:-1,Ra:3,W:2,RGBA8:0},t=u.C,e={xb:null,rb:null,ea:null},w=!0,x=new Uint8Array(4),d=[.8,1,.8,1],z=d.concat(d,d,d),g=null,B=null,H=null,D=null,h=null;return{Mb:function(v){p(v);return w},Wa:function(v,G){t===u.C&&(typeof("undefined"!==G)&&(B=G),
p(v));return t!==u.RGBA8},Ad:function(v){p(v);return t===u.Ra},kc:function(v){p(v);return t===u.W},pd:function(v){p(v);return e.xb},Yb:function(v){p(v);return e.rb},h:function(){g=null;w=!0;t=u.C;B=null}}}(),Fa={instance:function(b){var c=V.instance(b.alpha),l=V.instance(b.beta);return{Tb:function(){c.a(1);l.a(2)}}}},La={instance:function(b){var c=null,l=!1,f=!1,p=null,r=!1,u=!1,t=null,e="undefined"===typeof b.preprocessing?!1:b.preprocessing,w="undefined"===typeof b.preprocessingSize?b.size:b.preprocessingSize;
b.mask&&(l=!0,Ga&&void 0!==Ga.Gb&&(b.mask=Ga.Gb+b.mask),c=V.instance({isFloat:!1,url:b.mask}));var x=!1;b.customInputShader&&(x="s44",C.Sa({name:"_",id:x,b:b.customInputShader,c:["uSource"],precision:"lowp"}),C.I(x,[{type:"1i",name:"_",value:0}]));switch(e){case "sobel":t="s31";r=!0;break;case "meanNormalization":t="s32";r=!0;break;case "grayScale":t="s28";r=!1;break;case "grayScaleTilt":t="s29";u=!0;r=!1;break;case "rgbGrayTilt":t="s30";u=!0;r=!1;break;case "copy":t=x?x:"s0";break;case "inputLightRegulation":t=
x?x:"s28";p=Ka.instance({qb:w,wb:b.size,ub:b.nBlurPass,jc:!1});f=!0;break;case "direct":case "none":t=!1;break;default:t="s3"}u&&C.I(t,[{name:"u26",type:"1f",value:b.tilt}]);l&&(t+="Mask");var d=V.instance({isFloat:!1,isPot:!1,width:b.size}),z={u:function(){return w},Ba:function(){return z.u()},ac:function(){return f?p.ob():d},B:function(){Q.K();t&&(C.set(t),r&&C.H("u27",1/b.size),d.G(),l&&c.a(1),U.g(!1,!1),d.a(0),f&&p.process(d))},h:function(){d.remove();l&&c.remove()}};return z}},Ra={instance:function(b){"undefined"===
typeof b.disableNormalize&&(b.disableNormalize=1);var c={input:null,da:null,Fa:null,F:null,la:null,Ja:null,Ka:null},l=null,f=[],p=[],r=!1,u=null,t=!0,e=-1,w=b.isReorganize?b.isReorganize:!1,x=b.kernelsCount?!0:!1,d=b.dynPelu?Fa.instance(b.dynPelu):!1,z=d?!0:!1,g={isEnabled:!1};b.ic?(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.ma.Ba(),t=!1):"full"===b.connectivityUp&&(b.sparsity=b.ma.Ba());var B={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[b.activation],
H=b.sparsity*b.sparsity,D=!1,h=b.size,v="";if(b.maxPooling){switch(b.maxPooling.size){case 2:v="s33";break;case 4:v="s34"}D=!0;h/=b.maxPooling.size;c.Ja=V.instance({isFloat:!0,isPot:!1,width:h})}var G=void 0!==b.tc&&b.tc?!0:!1,I=null,q=null,n=null;if(G){I="s45"+b.index.toString();C.pb("s45",I,[((b.normalization.n-1)/2).toFixed(1)]);C.I(I,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},
{type:"1f",name:"u31",value:b.normalization.k}]);var F={isFloat:!0,isPot:!0,width:b.size};q=V.instance(F);n=V.instance(F)}var J=-1,A=null;t&&(c.F=V.instance({isFloat:!0,isPot:!1,width:b.size}));c.da=V.instance(b.bias);var S={u:function(){return b.size},Ba:function(){return h},mb:function(){return b.classesCount},Ib:function(E){l.a(E)},xc:function(){b.remap&&b.remap.isEnabled&&(g={isEnabled:!0,nc:V.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,
isPot:!1}),layers:b.remap.layers.map(function(E){return b.parent.$b(E)}),depth:b.remap.depth})},Ec:function(){switch(b.connectivityUp){case "direct":A=Ma.instance(b.connectivity);break;case "square":A=Na.instance(b.connectivity);break;case "squareFast":A=Oa.instance(b.connectivity,b.activation);break;case "full":A=Pa.instance(b.connectivity);break;case "conv":e=b.kernelsCount,A=Qa.instance(b.connectivity),w&&(c.la=V.instance({width:h,isFloat:!0,isFlipY:!1,isPot:!1}))}if(A.U){var E=b.size*b.sparsity;
J=Math.log(E/b.size)/Math.log(2);c.input=V.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:E,Ha:J});c.Fa=V.instance({isFloat:!0,isPot:!0,width:b.size})}},B:function(E){l=E;A.U?(c.input.G(),x&&c.da.a(2),A.B(g),c.input.a(0),c.input.Vb(J),c.Fa.G(),x?C.set("s0"):(C.set("s27"),C.H("u25",H),c.da.a(1)),c.input.Jb(J,0),U.g(!1,!1),C.set(B),G?q.j():c.F.j(),c.Fa.a(0),z&&d.Tb(),U.g(!1,!1)):(c.F.G(),c.da.a(1),A.B());G&&(C.set(I),n.j(),q.a(0),U.g(!1,!1),C.set("s46"),C.H("u6",1),c.F.j(),n.a(1),U.g(!1,!1));if(t)return D?
(c.Ja.G(),c.F.a(0),C.set(v),C.$("u7",1/b.size,1/b.size),U.g(!1,!1),E=c.Ja):E=c.F,E.a(0),w&&(c.la.j(),C.set("s21"),C.$("u12",e,h/e),U.g(!1,!1),E=c.la,c.la.a(0)),E;E=c.F;b.disableNormalize||(C.set("gpuRawAvg"===r?"s8":"s7"),C.H("u4",1/b.size),c.Ka.G(),c.F.a(0),U.g(!1,!1),E=c.Ka);switch(r){case "cpuRGBA2Float":E.ab(!1);E=S.yc(E);u(E);break;case "cpuMeanFloat":E.ab(!0);E=E.zc();u(E);break;case "gpuRawAvg":case "gpuRaw":E.a(0);case "none":u(E)}return!1},Ob:function(E){E&&"undefined"!==typeof E.vb&&(r=
E.vb,u=E.wc);c.F=V.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:b.size});E="undefined"!==typeof b.classesCount&&b.classesCount?b.classesCount:b.size*b.size;for(var k=0,M=0,L=0;k<E;++k)f.push(M+(b.size-1-L)*b.size),p.push([-1,-1,-1,-1]),++M,M===b.size&&(M=0,++L);b.disableNormalize||(c.Ka=V.instance({isFloat:!0,isPot:!0,width:b.size}))},yc:function(E){var k=E.yb();f.forEach(function(M,L){p[L][0]=k[0][M];p[L][1]=k[1][M];p[L][2]=k[2][M];p[L][3]=k[3][M]});return p},h:function(){for(var E in c){var k=
c[E];k&&k.remove()}A&&(A.h(),A=null)}};b.ma&&S.Ec(b.ma);return S}};
function Sa(){var b=null,c=null,l=0;this.$b=function(f){return b[f]};this.Bc=function(f){var p=null;l=f.length;b=f.map(function(r,u){r=Object.assign({},r,{index:u,parent:this,ma:p,ic:u===l-1});return p=u=0===u?La.instance(r):Ra.instance(r)});c=b[l-1];b.forEach(function(r,u){0!==u&&r.xc()})};this.B=function(f,p){var r=p;b.forEach(function(u){r=u.B(r,f)});return r};this.ob=function(){return c.ac()};this.Dc=function(f){c.Ob(f)};this.mb=function(){return c.mb()};this.h=function(){b&&(b.forEach(function(f){f.h()}),
c=b=null,l=0)}}
var Ma={instance:function(b){var c=V.instance(b.weights);delete b.weights.data;return{U:!0,ha:function(){return 1},h:function(){c.remove()},bc:function(){return c},B:function(){C.set("s26");c.a(1);U.g(!1,!1)}}}},Pa={instance:function(b){var c=b.fromLayerSize,l=V.instance(b.weights);delete b.weights.data;return{U:!0,ha:function(){return c},h:function(){l.remove()},B:function(f){if(f.isEnabled){C.set("s24");f.nc.a(3);var p,r=Math.min(f.layers.length,f.depth);for(p=0;p<r;++p)f.layers[p].Ib(4+p)}else C.set("s23");
C.H("u16",b.toLayerSize);l.a(1);U.g(!1,!1)}}}},Na={instance:function(b){for(var c=b.fromLayerSize,l=b.toLayerSize,f=b.toSparsity,p=f*l,r=p/c,u=c/l,t=0,e=0,w=0,x=Array(f*l*f*l*4),d=Array(f*l*f*l*4),z=Array(c*c),g=0;g<z.length;++g)z[g]=0;g=Math.floor(f/2);for(var B=.5/l,H=.5/c,D=.5/p,h=0;h<l;++h)for(var v=Math.round(h*u),G=0;G<l;++G){var I=Math.round(G*u),q=h/l,n=G/l;q+=B;n+=B;for(var F=0;F<f;++F){var J=v+F-g;0>J&&(J+=c);J>=c&&(J-=c);for(var A=0;A<f;++A){var S=t/p,E=e/p,k=I+A-g;0>k&&(k+=c);k>=c&&(k-=
c);var M=J/c,L=k/c;E=1-E-1/p;M+=H;L+=H;S+=D;E+=D;var m=h*f+F,X=G*f+A;X=l*f-X-1;m=X*l*f+m;x[4*m]=S;x[4*m+1]=E;x[4*m+2]=M;x[4*m+3]=L;L=z[k*c+J]++;m=L%r;M=J*r+m;k=k*r+(L-m)/r;k=c*r-1-k;k=k*c*r+M;d[4*k]=S;d[4*k+1]=E;d[4*k+2]=q;d[4*k+3]=n;++t>=p&&(t=0,++e);++w}}}z=null;var fa=V.instance(b.weights);delete b.weights.data;var ka=V.instance({width:p,isFloat:!0,array:new Float32Array(d),isPot:!0});d=null;var ba=V.instance({width:p,isFloat:!0,array:new Float32Array(x),isPot:!0});x=null;return{U:!0,ha:function(){return r},
h:function(){ka.remove();ba.remove();fa.remove()},B:function(){C.set("s22");fa.a(1);ba.a(2);U.g(!1,!1)}}}},Qa={instance:function(b){var c=b.kernelsCount,l=b.toSparsity,f=l*b.toLayerSize/b.fromLayerSize,p=V.instance(b.weights);delete b.weights.data;return{U:!0,ha:function(){return f},vd:function(){return l},bc:function(){return p},h:function(){p.remove()},B:function(){C.set("s25");C.H("u22",c);C.H("u23",l);C.H("u16",b.toLayerSize);C.H("u24",b.fromLayerSize);p.a(1);U.g(!1,!1)}}}},Oa={instance:function(b,
c){var l=b.fromLayerSize,f=b.toLayerSize,p=b.toSparsity,r=b.stride?b.stride:1,u=p*f/l,t=f<l,e=l/f,w=V.instance(b.weights);delete b.weights.data;var x="s47"+[l.toString(),f.toString(),p.toString(),r.toString(),c].join("_");C.Ub(x)||(b=ea(c),f=[{type:"1f",name:"u16",value:f},{type:"1f",name:"u30",value:r}],t&&f.push({type:"1f",name:"u24",value:l}),l=[(t?u:p).toFixed(1),b],t&&l.push(e.toFixed(1)),C.pb(t?"s39":"s38",x,l),C.I(x,f.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",
name:"u13",value:3}])));return{U:!1,ha:function(){return u},h:function(){w.remove()},B:function(){C.set(x);w.a(3);U.g(!1,!1)}}}},Ka={instance:function(b){var c=b.ub?b.ub:3,l=b.qb?b.qb:64,f=b.wb?b.wb:64,p=b.jc?!0:!1;b={isFloat:!1,width:l,isPot:!1,isFlipY:!1};var r=V.instance(b),u=V.instance(b),t=V.instance(b),e=V.instance(b),w=V.instance({isFloat:!0,width:f,isPot:!1,isFlipY:!1}),x=1/l;return{process:function(d){C.set("s35");e.j();U.g(p,!1);C.set("s36");for(var z=0;z<c;++z)r.j(),C.$("u7",x,0),U.g(p,
!1),t.j(),e.a(0),U.g(p,!1),u.j(),r.a(0),C.$("u7",0,x),U.g(p,!1),e.j(),t.a(0),U.g(p,!1),z!==c-1&&u.a(0);C.set("s37");w.j();d.a(0);u.a(1);e.a(2);U.g(p,!1);w.a(0)},ob:function(){return w}}}};function Ta(b,c){b[c]=!0;b.setAttribute(c,"true")}function Va(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Wa(){var b=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<b.length?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)]:[0,0,0]}
function Xa(){var b=navigator.userAgent.toLowerCase();return-1!==b.indexOf("safari")&&-1===b.indexOf("chrome")?!0:!1}function Ya(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function Za(b){if(!b)return b;var c=!1;if(b.video){var l=function(f){var p={};"undefined"!==typeof f.min&&(p.min=f.min);"undefined"!==typeof f.max&&(p.max=f.max);"undefined"!==typeof f.ideal&&(p.ideal=f.ideal);return p};c={};"undefined"!==typeof b.video.width&&(c.width=l(b.video.width));"undefined"!==typeof b.video.height&&(c.height=l(b.video.height));"undefined"!==typeof b.video.facingMode&&(c.facingMode=b.video.facingMode)}c={audio:b.audio,video:c};"undefined"!==typeof b.deviceId&&(c.deviceId=b.deviceId);
return c}function $a(b){var c=b.video.width;b.video.width=b.video.height;b.video.height=c;return b}
function ab(b){function c(d){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(z,g){return Math.abs(z-d)-Math.abs(g-d)})}function l(d){var z=Za(b);f.push(d(z))}var f=[];if(!b||!b.video)return f;if(b.video.width&&b.video.height){if(b.video.width.ideal&&b.video.height.ideal){var p=c(b.video.width.ideal).slice(0,3),r=c(b.video.height.ideal).slice(0,3),u={},t=0;for(u.P=void 0;t<p.length;u={P:u.P},++t){u.P=p[t];var e={},w=0;for(e.O=void 0;w<r.length;e={O:e.O},++w)if(e.O=r[w],
u.P!==b.video.width.ideal||e.O!==b.video.height.ideal){var x=Math.max(u.P,e.O)/Math.min(u.P,e.O);x<4/3-.1||x>16/9+.1||l(function(d,z){return function(g){g.video.width.ideal=d.P;g.video.height.ideal=z.O;return g}}(u,e))}}}l(function(d){return $a(d)})}b.video.width&&b.video.height&&(b.video.width.ideal&&b.video.height.ideal&&l(function(d){delete d.video.width.ideal;delete d.video.height.ideal;return d}),l(function(d){delete d.video.width;delete d.video.height;return d}));b.video.facingMode&&(l(function(d){delete d.video.facingMode;
return d}),b.video.width&&b.video.height&&l(function(d){$a(d);delete d.video.facingMode;return d}));f.push({audio:b.audio,video:!0});return f}function bb(b){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(f){c=window.innerHeight>window.innerWidth}if(c&&b&&b.video){c=b.video.width;var l=b.video.height;c&&l&&c.ideal&&l.ideal&&c.ideal>l.ideal&&(b.video.height=c,b.video.width=l)}}
function cb(b){b.volume=0;Ta(b,"muted");if(Xa()){if(1===b.volume){var c=function(){b.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){b.volume=0;Ta(b,"muted")},5)}}
function db(b,c,l){return new Promise(function(f,p){if(b.srcObject&&b.srcObject.getVideoTracks){var r=b.srcObject.getVideoTracks();1!==r.length?p("INVALID_TRACKNUMBER"):(r=r[0],c?eb(b,f,p,l):(r.stop(),f()))}else p("BAD_IMPLEMENTATION")})}
function fb(b,c,l,f){function p(u){r||(r=!0,l(u))}var r=!1;navigator.mediaDevices.getUserMedia(f).then(function(u){function t(){setTimeout(function(){if(b.currentTime){var e=b.videoWidth,w=b.videoHeight;if(0===e||0===w)p("VIDEO_NULLSIZE");else{e&&(b.style.width=e.toString()+"px");w&&(b.style.height=w.toString()+"px");e={Nb:null,Mc:null,qc:null};try{var x=u.getVideoTracks()[0];x&&(e.qc=x,e.Nb=x.getCapabilities(),e.Mc=x.getSettings())}catch(d){}Xa()||Va()?b.parentNode&&null!==b.parentNode?(r||c(b,u,
e),setTimeout(function(){b.play()},100)):(document.body.appendChild(b),cb(b),r||c(b,u,e),setTimeout(function(){b.style.transform="scale(0.0001,0.0001)";b.style.position="fixed";b.style.bottom="0px";b.style.right="0px";cb(b);setTimeout(function(){b.play()},100)},80)):r||c(b,u,e)}}else p("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof b.srcObject?b.srcObject=u:(b.src=window.URL.createObjectURL(u),b.videoStream=u);cb(b);b.addEventListener("loadeddata",function(){var e=b.play();cb(b);"undefined"===typeof e?
t():e.then(function(){t()}).catch(function(){p("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(u){p(u)})}
function eb(b,c,l,f){if(b)if(Ya()){if(f&&f.video){if(Va()){var p=Wa();(12>p[0]||12===p[0]&&2>p[1])&&bb(f)}f.video.width&&f.video.width.ideal&&(b.style.width=f.video.width.ideal+"px");f.video.height&&f.video.height.ideal&&(b.style.height=f.video.height.ideal+"px")}Ta(b,"autoplay");Ta(b,"playsinline");f&&f.audio?b.volume=0:Ta(b,"muted");fb(b,c,function(){function r(t){if(0===t.length)l("INVALID_FALLBACKCONSTRAINTS");else{var e=t.shift();fb(b,c,function(){r(t)},e)}}var u=ab(f);r(u)},f)}else l&&l("MEDIASTREAMAPI_NOTFOUND");
else l&&l("VIDEO_NOTPROVIDED")}var gb=[1,1,2],hb=[.2,.8],Ga={};
function ib(b){function c(){++I;1===I&&(jb.ready=!0,b.Lb(!1,{video:d.element,GL:a,videoTexture:d.V.get(),videoTextureCut:x.Z.get()}),B!==g.pause&&(f(),B=g.play,p(0)),I=0)}function l(A){G=setTimeout(p.bind(null,A),10)}function f(){v&&(window.cancelAnimationFrame(v),v=null);G&&(window.clearTimeout(G),G=null)}function p(){if(B!==g.pause){Q.reset();Q.K();var A=d.element.currentTime-F;0>A&&(F=d.element.currentTime);20>1E3*A||(d.V.refresh(),F+=A,C.set("s50"),d.sa.G(),d.V.a(0),U.g(!1,!0));for(A=0;1>A;++A)C.set("s51"),
x.Z.G(),d.sa.a(0),x.aa.a(1),U.g(!1,!1),x.Z.a(0),t.B(!1,x.Z);D===H.visible&&(Q.Sc(),C.set("s49"),d.sa.a(1),x.aa.a(0),U.g(!1,!1));a.flush();v=window.requestAnimationFrame(l)}}function r(){x.aa.Gc(1);C.set("s52");C.Jc("u32",h.x,h.y,h.scale);U.g(!1,!1);0!==++h.n%2&&(h.scale+=e.Nc,2.5<h.scale&&(h.x+=e.Oc,h.scale=1.25,h.x>e.oc&&(h.x=e.rc,h.y+=e.Pc,h.y>e.pc&&(h.y=e.sc))));C.set("s53");x.Ia.Fc(1);x.aa.a(0);U.g(!1,!1);var A=Date.now();if(100<A-u){u=A;C.set("s1");Q.A();x.Ia.a(0);U.g(!1,!1);a.readPixels(0,0,
1,1,a.RGBA,a.UNSIGNED_BYTE,z);A=hb[0]+n*(hb[1]-hb[0]);var S=Math.abs(z[1]/255*2-1),E=128<z[0],k=E&&S<A+.1;B===g.play&&E&&S<A-.1?(b.Va(!0),B=g.wa):B!==g.wa||k||(b.Va(!1),B=g.play);Q.K()}}var u=Date.now(),t=null,e={Oc:.1,Pc:.1,Nc:1.25/3,rc:.25,sc:.25,oc:.75,pc:.75},w=[.16,.16],x={Z:null,aa:null,Ia:null,cd:null},d={element:null,V:null,sa:null,va:null},z=new Uint8Array([0,0,0,0]),g={uc:-1,mc:0,play:1,wa:2,pause:3},B=g.mc,H={hidden:0,visible:1},D=b.ec?H.visible:H.hidden,h={n:0,x:.25,y:.25,scale:1.25},
v=null,G=null,I=0,q="undefined"!==typeof b.Qa?b.Qa:"./",n=(("undefined"!==typeof b.zb?b.zb:.55)-hb[0])/(hb[1]-hb[0]),F=0,J={Hc:function(A){n=A},Qc:function(A){D=A?H.visible:H.hidden},Cb:function(A,S){if(A&&B===g.pause||!A&&B!==g.pause)return Promise.resolve();S=S?db(d.element,!A,d.va):Promise.resolve();A?(B=g.pause,f()):(B=g.wa,f(),B=g.play,p(0));return S},Qb:function(){t&&(t.h(),t=null);Aa.h();B=g.uc},m:function(){d.va={video:{facingMode:{ideal:"user"},width:{min:480,max:1280,ideal:800},height:{min:480,
max:1280,ideal:600}},audio:!1};eb(Ya()?document.createElement("video"):!1,function(A){J.start(A)},function(){errorCallback("NO_WEBCAM")},d.va)},start:function(A){d.element=A;J.dc();J.Pb();J.Kc();da(q+'NNC.json',J.lc.bind(null,c))},dc:function(){C.Fb([{id:"s50",name:"_",ba:"attribute vec2 a0;uniform vec2 u33,u34;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u34+u33*a0;}",ca:["a0"],X:[2],b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
c:["u1","u33","u34"],precision:"lowp"},{id:"s51",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",ba:"attribute vec2 a0;uniform sampler2D u35;uniform vec2 u36;const vec2 f=vec2(.25,.5),g=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u35,f);vec2 d=a.gb,b=a.a*u36;vec4 c=texture2D(u35,g);float l=c.a,i=c.y;vec2 j=vec2(1./cos(i),1.);b*=j;vec2 k=a0*.5+e;vv0=d+(k-e)*b,gl_Position=vec4(a0,0.,1.);}",ca:["a0"],X:[2],c:["u1","u35","u36"],
precision:"lowp"},{id:"s52",name:"_",ba:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u37,u35;uniform vec3 u32,u38;uniform float u39,u40,u41,u42,u43,u44;const vec4 e=vec4(.25,.25,.25,.25);const float f=1e-3;void main(){vec4 b=texture2D(u35,vec2(.25,.5));float a=floor(b.r+f),c=0.;vec4 g=texture2D(u37,vec2(.125,.625)),h=texture2D(u37,vec2(.375,.625));float d=dot(g,e),i=dot(h,e);bool j=d>u42&&d>i+u43;j?a=2.:a>u41?a=0.:a>1.9&&(b.a>u40||b.a<u39)?a=0.:a>1.9?a+=1.:0.;if(a<.9)b.gba=u32,a=1.;else{float k=dot(e,texture2D(u37,vec2(.375,.875))),l=dot(e,texture2D(u37,vec2(.625,.875))),m=dot(e,texture2D(u37,vec2(.875,.875))),n=dot(e,texture2D(u37,vec2(.125,.875)));c=clamp(n,-1.+f,1.-f);float o=step(1.5,a);a*=o;float p=b.a*u44;b.gba+=vec3(k,l,m)*u38*p;}b.r=a+c*.5+.5,gl_FragColor=b;}",
c:"u37 u35 u32 u39 u40 u41 u43 u42 u38 u44".split(" ")},{id:"s53",name:"_",b:"uniform sampler2D u35,u45;uniform float u46;varying vec2 vv0;const vec2 e=vec2(.5,.5);void main(){vec4 a=texture2D(u35,e),b=texture2D(u45,e);float c=step(2.,a.r),d=fract(a.r);vec4 f=vec4(c,d,0.,1.);gl_FragColor=mix(f,b,u46);}",c:["u35","u45","u46"]},{id:"s49",name:"_",b:"uniform sampler2D u35,u47;uniform vec2 u36;varying vec2 vv0;const vec2 j=vec2(1.,1.);const vec3 k=vec3(0.,.7,1.);void main(){vec4 f=texture2D(u35,vec2(.5,.5));vec3 l=texture2D(u47,vv0).rgb;vec2 g=f.gb;float m=f.a;vec2 a=m*u36,c=g+a,d=g;d-=a/2.,c-=a/2.;vec2 n=.5*(d+c),h=step(d,vv0)*step(vv0,c);float o=h.x*h.y;vec2 b=2.*abs(n-vv0)/a;b=pow(b,3.*j);float i=max(b.x,b.y);i*=o,gl_FragColor=vec4(mix(l,k,i),1.);}",
c:["u35","u47","u36"]}]);C.I("s51",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u35",value:1},{type:"2f",name:"u36",value:w}]);C.I("s53",[{type:"1i",name:"u35",value:0},{type:"1i",name:"u45",value:1},{type:"1f",name:"u46",value:.9}]);C.I("s49",[{type:"1i",name:"u35",value:0},{type:"1i",name:"u47",value:1},{type:"2f",name:"u36",value:w}]);C.I("s52",[{type:"1i",name:"u37",value:0},{type:"1i",name:"u35",value:1},{type:"1f",name:"u39",value:1.1},{type:"1f",name:"u40",value:5.8},{type:"1f",name:"u41",
value:55},{type:"1f",name:"u42",value:.95},{type:"1f",name:"u43",value:1.1},{type:"1f",name:"u44",value:w[0]},{type:"3f",name:"u38",value:[gb[0]*w[0],gb[1]*w[1],gb[2]]}])},Pb:function(){d.V=V.instance({s:d.element,isPot:!1,isFloat:!1,isFlipY:!0});d.sa=V.instance({isPot:!1,Ed:!0,isFloat:!1,width:400,height:400});x.Z=V.instance({isPot:!0,isFloat:!1,width:64});x.aa=Ba.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.25,.25,0])});x.Ia=Ba.instance({width:1,height:1,isFloat:!0,
isPot:!1,array:new Float32Array([0,.5,0,1])})},Kc:function(){var A=[.5,.5],S=d.element.videoHeight/d.element.videoWidth,E=Aa.D()/Aa.u();S>E?1>=S?A[0]*=S:A[1]/=S:(A[0]*=S,S=1/E,A[0]*=S,A[1]*=S);A[1]*=E;C.I("s50",[{type:"1i",name:"u1",value:0},{type:"2f",name:"u33",value:A},{type:"2f",name:"u34",value:[.5,.5]}])},lc:function(A,S){S="object"===typeof S?S:JSON.parse(S);t=new Sa;t.Bc(S.layers);t.Dc({vb:"gpuRawAvg",wc:r});A&&A()}};return J}
var jb={ready:!1,set_sensibility:function(b){jb.ready&&jb.T.Hc(b)},toggle_pause:function(b,c){return jb.ready?jb.T.Cb(b,c):Promise.reject()},destroy:function(){return new Promise(function(b,c){jb.T.Cb(!0,!0).catch(function(){c()}).finally(function(){jb.T.Qb();b()})})},toggle_display:function(b){jb.ready&&jb.T.Qc(b)},init:function(b){function c(l){b.callbackReady&&b.callbackReady(l?l:"UNKNOW_ERROR")}jb.T=ib({ec:"undefined"===typeof b.isDisplayVideo?!0:b.isDisplayVideo,Lb:function(l,f){b.callbackReady&&
b.callbackReady(l,f)},Va:b.callbackTrack,zb:b.sensibility,Qa:b.NNCPath});if(!Aa.m({$a:b.canvasId,width:400,height:400,debug:!1,Ga:!1,premultipliedAlpha:!0}))return c&&c("COMPAT_FAIL"),!1;C.m();jb.T.m();return!0}};window.GLANCETRACKERAPI=jb;
;return GLANCETRACKERAPI||window.GLANCETRACKERAPI;})();